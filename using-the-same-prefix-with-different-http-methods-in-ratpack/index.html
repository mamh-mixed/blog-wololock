<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="author" content="Szymon Stepniak"><meta name="robots" content="index, follow"><meta name="monetization" content="$ilp.uphold.com/Jfxe9Qd9z8Mb"><title>Using the same prefix with different HTTP methods in Ratpack</title><meta name="description" content="Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&amp;#8217;s mechanism - it is"><meta property="og:type" content="article"><meta property="og:title" content="Using the same prefix with different HTTP methods in Ratpack"><meta property="og:url" content="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/"><meta property="og:site_name" content="Szymon Stepniak - Freelance Groovy Developer &amp; DevOps"><meta property="og:description" content="Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&amp;#8217;s mechanism - it is"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://e.printstacktrace.blog/images/og/ratpack-prefix-http-methods.jpg"><meta property="article:published_time" content="2019-04-01T08:12:52.000Z"><meta property="article:modified_time" content="2019-04-01T08:12:52.000Z"><meta property="article:author" content="Szymon Stepniak"><meta property="article:tag" content="groovy"><meta property="article:tag" content="ratpack"><meta property="article:tag" content="rest"><meta property="article:tag" content="netty"><meta property="article:tag" content="http"><meta property="article:tag" content="curl"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://e.printstacktrace.blog/images/og/ratpack-prefix-http-methods.jpg"><meta name="twitter:creator" content="@wololock"><meta name="keywords" content="groovy,ratpack,rest,netty,http,curl"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com"><link rel="dns-prefetch" href="//disqus.com"><link rel="dns-prefetch" href="//c.disquscdn.com"><link href="//fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&amp;display=swap" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&amp;display=swap" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"><link rel="shortcut icon" type="image/png" href="/favicon_new.png"><link rel="stylesheet" href="/css/main.css?v=61"><link rel="stylesheet" href="/css/highlightjs.css?v=61"><link rel="canonical" href="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://e.printstacktrace.blog/#/schema/person/wololock","name":"Szymon Stepniak","description":"Groovista, Upwork's Top Rated freelancer, Toru≈Ñ Java User Group founder, open&nbsp;source contributor, Stack Overflow addict, bedroom guitar player. I walk through e.printStackTrace() so you don't have to.","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/#avatar","inLanguage":"en-US","url":"https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200","caption":"Szymon Stepniak"},"logo":{"@id":"https://e.printstacktrace.blog/#avatar"},"sameAs":["https://twitter.com/wololock","https://github.com/wololock","https://stackoverflow.com/users/2194470/szymon-stepniak","https://www.youtube.com/c/eprintstacktrace"]},{"@type":"WebSite","@id":"https://e.printstacktrace.blog/#website","url":"https://e.printstacktrace.blog","name":"Szymon Stepniak - Freelance Groovy Developer & DevOps","description":"Blog about programming, created by Upwork's Top Rated freelancer, 10+ years experienced Java/Groovy developer. Contact me if you are looking for an experienced and high quality consultant."},{"@type":"WebPage","@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#webpage","url":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/","name":"Using the same prefix with different HTTP methods in Ratpack","isPartOf":{"@id":"https://e.printstacktrace.blog/#website"},"datePublished":"2019-04-01T08:12:52.000Z","dateModified":"2019-04-01T08:12:52.000Z","description":"Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&#8217;s mechanism - it is much different compared to what we have learned by using many popular MVC frameworks. In today&#8217;s blog post I would like to show you a relatively simple example that confused many newcomers.","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/"]}]},{"@type":"Article","@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#article","isPartOf":{"@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#webpage"},"author":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"headline":"Using the same prefix with different HTTP methods in Ratpack","datePublished":"2019-04-01T08:12:52.000Z","dateModified":"2019-04-01T08:12:52.000Z","mainEntityOfPage":{"@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#webpage"},"publisher":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"keywords":"groovy,ratpack,rest,netty,http,curl","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#primaryimage","url":"https://e.printstacktrace.blog/images/og/ratpack-prefix-http-methods.jpg","inLanguage":"en-US","caption":"Using the same prefix with different HTTP methods in Ratpack"},"inLanguage":"en-US"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://e.printstacktrace.blog","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://e.printstacktrace.blog/ratpack-cookbook/","name":"Ratpack Cookbook"}},{"@type":"ListItem","position":3,"item":{"@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/","name":"Using the same prefix with different HTTP methods in Ratpack"}}]}]}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Szymon Stepniak - Freelance Groovy Developer & DevOps" type="application/atom+xml">
<style>.img-lazyload-container{overflow:hidden;max-width:100%}.img-lazyload-container img{max-width:100%;display:block;height:auto;transition:opacity .5s ease-in-out}.img-lazyload-container img:not([src]){height:0;opacity:0}</style></head><body class="layout-post"><header class="fixed-top" id="header"><div class="container-fluid px-md-auto px-0"><nav class="navbar navbar-expand-lg"><h3 class="logo mr-auto position-relative">e.printstacktrace.blog<a class="stretched-link gatr" href="/" data-type="logo" data-name="e.printstacktrace.blog"></a></h3><button class="navbar-toggler" data-toggle="collapse" data-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="mainNav"><ul class="navbar-nav ml-lg-auto text-center text-md-left d-block d-lg-flex"><li class="nav-item"><a class="nav-link" href="/">Start here</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/support-me">Support the blog</a></li><li class="nav-item"><a class="nav-link" href="/archives">Archives</a></li><li class="nav-item"><a class="nav-link" href="/resources">Resources</a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://twitter.com/wololock" target="_blank" rel="noopener" data-type="social" data-name="Twitter"><em class="fa fa-twitter"></em></a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://github.com/wololock" target="_blank" rel="noopener" data-type="social" data-name="GitHub"><em class="fa fa-github"></em></a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://stackoverflow.com/users/2194470/szymon-stepniak" target="_blank" rel="noopener" data-type="social" data-name="Stack Overflow"><em class="fa fa-stack-overflow"></em></a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://youtube.com/c/eprintstacktrace" target="_blank" rel="noopener" data-type="social" data-name="YouTube"><em class="fa fa-youtube"></em></a></li></ul></div></nav></div></header><main id="page-post"><header class="jumbotron text-center pb-5" style="background-image:url(/images/ratpack-cookbook-bg.jpg)"><div class="mask"></div><div class="container pt-5 pb-1"><a class="category mark" href="/ratpack-cookbook/">Ratpack Cookbook</a><h1 class="mt-2 mt-md-0">Using the same prefix with different HTTP methods in Ratpack</h1><section class="post-meta"><ul><li><time datetime="2019-04-01T08:12:52.000Z">Apr 1, 2019</time></li><li>5 min. read</li><li><a href="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#disqus_thread">0 Comments</a></li></ul></section></div></header><article class="post-content" role="article"><div class="container"><div class="row"><div class="col-12 offset-0 col-md-10 offset-md-1 pt-4 pt-md-5"><div class="paragraph"><p><a href="https://ratpack.io/" target="_blank" rel="noopener">Ratpack</a> is an excellent tool for building RESTful<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&#8217;s mechanism - it is much different compared to what we have learned by using many popular MVC frameworks. In today&#8217;s blog post I would like to show you a relatively simple example that confused many newcomers.</p></div><a id="more"></a><div class="sect1"><h2 id="an-example">An example</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s consider the following example. We have a simple API with the <code>/users</code> endpoint. This endpoint handles <code>GET</code> and <code>POST</code> requests. Sounds familiar, right? Here is how we might try to implement it in Ratpack.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">In this example, we use Ratpack&#8217;s excellent <a href="https://ratpack.io/manual/current/quick-start.html#using_a_groovy_script" target="_blank" rel="noopener">integration with Groovy</a>. Instead of creating an application with Gradle or Maven, we create a single Groovy script file with Ratpack Grape item, and we are ready to go. Just a few lines of code and we have a working REST application.</td></tr></table></div><div class="listingblock"><div class="title">Listing 1. Ratpack application as a Groovy script called <code>ratpack.groovy</code></div><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Grab('io.ratpack:ratpack-groovy:1.6.0')

import static ratpack.groovy.Groovy.ratpack

ratpack {
    handlers {
        prefix("users") {
            get {
                response.send("A list of users...")
            }

            post {
                response.send("Create a new user...")
            }
        }
    }
}</code></pre></div></div><div class="paragraph"><p>Let&#8217;s run the application.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ groovy ratpack.groovy</code></pre></div></div><div class="paragraph"><p>We are ready to send some HTTP requests with curl.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -i -X GET http://localhost:5050/users
HTTP/1.1 200 OK
content-type: text/plain;charset=UTF-8
content-length: 18

A list of users...%

$ curl -i -X POST http://localhost:5050/users
HTTP/1.1 405 Method Not Allowed
content-type: text/plain;charset=UTF-8
content-length: 16

Client error 405%</code></pre></div></div><div class="paragraph"><p>Something went wrong. The <code>GET</code> request gets handled correctly, but when we send the <code>POST</code> request, it gets HTTP <strong>405 Method Not Allowed</strong>. Why is that?</p></div><div class="paragraph"><p>The problem is that the <code>prefix</code> method creates a handler (or handlers) that handle requests based on the relative path - it matches all requests starting with a given prefix. In this case, sending requests with the same URI path, but with different HTTP method does not make any difference for our application. Both kinds of requests match the same relative URI path, so Ratpack delegates them to the first handler in the queue. It happens that the first handler is the one that processes <code>GET</code> requests - it accepts any <code>GET</code> request but returns 405 HTTP status if an incorrect method was set.</p></div><div class="paragraph"><p>This is where <code>byMethod</code> helper method comes with help. It creates a chain of handlers that accept the same relative path but handle different HTTP methods. Let&#8217;s use it inside the <code>prefix</code> method and see how it works.</p></div><div class="listingblock"><div class="title">Listing 2. A first approach to use <code>byMethod</code> helper method.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Grab('io.ratpack:ratpack-groovy:1.6.0')

import static ratpack.groovy.Groovy.ratpack

ratpack {
    handlers {
        prefix("users") {
            byMethod {
                get {
                    response.send("A list of users...")
                }

                post {
                    response.send("Create a new user...")
                }
            }
        }
    }
}</code></pre></div></div><div class="paragraph"><p>Now we can run the updated application and test the <code>GET</code> request.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -i -X POST http://localhost:5050/users
HTTP/1.1 500 Internal Server Error
content-type: text/plain;charset=UTF-8
content-length: 5388

groovy.lang.MissingMethodException: No signature of method: ratpack.byMethod() is applicable for argument types: (ratpack$_run_closure1$_closure2$_closure3$_closure4) values: [ratpack$_run_closure1$_closure2$_closure3$_closure4@28289a28]
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:70)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:76)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:156)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:168)
	at ratpack$_run_closure1$_closure2$_closure3.doCall(ratpack.groovy:8)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code></pre></div></div><div class="paragraph"><p>Oops. Something went wrong. The <code>MissingMethodException</code> seems like trying to tell us, that there is no option to use <code>byMethod</code> inside the <code>prefix</code> method. Does it mean that we can create separate handlers for different HTTP methods under the same prefix?</p></div></div></div><div class="sect1"><h2 id="the-solution">The solution</h2><div class="sectionbody"><div class="paragraph"><p>The answer is - yes, we can. The problem with the above solution is simple - a closure created for the <code>prefix</code> method does not have access to the context object (it delegates to <code>ratpack.handling.Chain</code> instead). The <code>byMethod</code> method is exposed by the <code>ratpack.handling.Context</code> thus we need something that delegates to it. Luckily, there is a method that delegates to the context object, and that can be used in our example. It&#8217;s <code>path</code> helper method that creates a chain of handlers that match the same relative path. Let&#8217;s take a look at the final example.</p></div><div class="listingblock"><div class="title">Listing 3. The final application code with <code>prefix</code> and <code>byMethod</code> methods combination.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Grab('io.ratpack:ratpack-groovy:1.6.0')

import static ratpack.groovy.Groovy.ratpack

ratpack {
    handlers {
        prefix("users") {
            path {
                byMethod {
                    get {
                        response.send("A list of users...")
                    }

                    post {
                        response.send("Create a new user...")
                    }
                }
            }
        }
    }
}</code></pre></div></div><div class="paragraph"><p>Let&#8217;s execute <code>GET</code> and <code>POST</code> requests to see if it works as we expect.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -i -X GET http://localhost:5050/users
HTTP/1.1 200 OK
content-type: text/plain;charset=UTF-8
content-length: 18

A list of users...%

$ curl -i -X POST http://localhost:5050/users
HTTP/1.1 200 OK
content-type: text/plain;charset=UTF-8
content-length: 20

Create a new user...%</code></pre></div></div><div class="paragraph"><p>Cowabunga! It works like a charm.</p></div></div></div><div class="sect1"><h2 id="conclusion">Conclusion</h2><div class="sectionbody"><div class="paragraph"><p>I hope you have learned something new from this blog post. The reason I wrote it is that I couldn&#8217;t find any example in the documentation that covered an example of combining <code>prefix</code> and <code>byMethod</code> methods. However, it is a quite common use case, and people get confused by it.</p></div><div class="paragraph"><p></p><div class="youtube-box py-4"><div class="container"><div class="row"><div class="col-12 col-md-6 offset-md-1 offset-0 pr-md-5 order-1 order-md-0"><h4>Building an HTTP application in a single .groovy file with Ratpack!</h4><p class="desc">Learn more about Ratpack here - https://ratpack.io</p><p class="text-center pt-3"><a class="btn btn-danger text-white" href="https://www.youtube.com/watch?v=KkL2ZMmNY3I" target="_blank" rel="noopener" data-type="youtube" data-name="Building an HTTP application in a single .groovy file with Ratpack!">Watch now</a></p></div><div class="col-12 col-md-4 order-0 order-md-1"><div class="card shadow mb-4 mb-md-0"><div class="card-header" itemprop="image" style="background-image:url(https://i3.ytimg.com/vi/KkL2ZMmNY3I/mqdefault.jpg)"><div class="time">5:01</div><em class="fa fa-youtube"></em></div><a class="stretched-link gatr" href="https://www.youtube.com/watch?v=KkL2ZMmNY3I" target="_blank" rel="noopener" data-type="youtube" data-name="Building an HTTP application in a single .groovy file with Ratpack!"></a></div></div></div></div></div><p></p></div><div class="paragraph mt-5"><p>Share this blog post on <span class="icon color-twitter"><i class="fa fa-twitter"></i></span> <a href="https://twitter.com/intent/tweet?text=%22Using%20the%20same%20prefix%20with%20different%20HTTP%20methods%20in%20Ratpack%22%20https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/%20via%20@wololock" target="_blank" rel="noopener">Twitter</a> or <span class="icon color-linkedin"><i class="fa fa-linkedin-square"></i></span> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/&title=Using%20the%20same%20prefix%20with%20different%20HTTP%20methods%20in%20Ratpack" target="_blank" rel="noopener">LinkedIn</a> to help me spread the word. Thanks! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div></div></div><div id="footnotes"><hr><div class="footnote" id="_footnotedef_1"><a href="#_footnoteref_1">1</a>. <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="noopener" class="bare">https://en.wikipedia.org/wiki/Representational_state_transfer</a></div></div></div><div class="col-12 offset-0 col-md-10 offset-md-1"><div class="post-tags"><ul><li class="text"><em class="far fa-calendar-alt mr-1"></em>Published: Apr 1, 2019 in <a class="mark" href="/ratpack-cookbook/">Ratpack Cookbook</a></li></ul><ul class="mt-2"><li class="text"><em class="fas fa-tags"></em></li><li><a href="/t/curl/">curl</a></li><li><a href="/t/groovy/">groovy</a></li><li><a href="/t/http/">http</a></li><li><a href="/t/netty/">netty</a></li><li><a href="/t/ratpack/">ratpack</a></li><li><a href="/t/rest/">rest</a></li></ul></div></div></div></div><footer class="post-footer"><div class="container"><div class="row"><div class="col-12 offset-0 col-md-10 offset-md-1"><div class="about-author"><div class="row"><div class="col-md-2 col-6 offset-md-0 offset-3 text-center mt-4"><img class="rounded-circle img-fluid" src="https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200"></div><div class="col-md-10 col-12 text-md-left text-center mt-md-4 mt-1"><h4 class="text-md-left text-center"><a class="gatr" href="/about" data-type="post-footer" data-name="About">Szymon Stepniak</a></h4><p class="bio"><span>Groovista, Upwork's Top Rated freelancer, Toru≈Ñ Java User Group founder, open&nbsp;source contributor, Stack Overflow addict, bedroom guitar player. I walk through e.printStackTrace() so you don't have to.</span><span class="ml-2"><a href="/about">More about me &raquo;</a></span></p><ul class="social-links text-md-left text-center"><li><a class="gatr" href="https://twitter.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="twitter"><span class="fa fa-twitter"></span></a></li><li><a class="gatr" href="https://github.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="github"><span class="fa fa-github"></span></a></li><li><a class="gatr" href="https://stackoverflow.com/users/2194470/szymon-stepniak?tab=profile" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="stackoverflow"><span class="fa fa-stack-overflow"></span></a></li><li><a class="gatr" href="https://www.youtube.com/c/eprintstacktrace" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="youtube"><span class="fa fa-youtube"></span></a></li></ul></div></div></div></div></div><div class="row mt-lg-2 mt-3 h6 pager"><div class="col-lg-6 col-12 text-lg-left text-center py-3"><a class="gatr" href="/pragmatic-thinking-and-learning-book-review/" data-type="prev-post" data-name="Pragmatic Thinking and Learning - book review" title="Pragmatic Thinking and Learning - book review">&laquo; Previous: <b>Pragmatic Thinking and Learning - book review</b></a></div><div class="col-lg-6 col-12 text-lg-right text-center py-3"><a class="gatr" href="/graalvm-heap-size-of-native-image-how-to-set-it/" data-type="next-post" data-name="GraalVM and heap size of the native image - how to set it?" title="GraalVM and heap size of the native image - how to set it?">Next: <b>GraalVM and heap size of the native image - how to set it?</b> &raquo;</a></div></div></div></footer></article></main><section class="related-posts"><div class="container"><h3>Related posts</h3><div class="card-deck pt-2"><article class="card shadow-sm"><div class="card-header" style="background-image:url(/images/cards/jq.jpg)"><div class="mask"></div><h3 class="h5 text-left font-weight-bold text-white"><div><a class="category">jq cookbook</a></div><div class="title">Parsing JSON in command-line with jq: basic filters and functions (part 1)</div></h3></div><div class="card-body"><section class="post-meta"><ul><li><time datetime="2020-05-24T16:28:32.000Z">May 24, 2020</time></li><li>13 min. read</li><li><a href="https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#disqus_thread">0 Comments</a></li></ul></section><p class="card-text pt-3">Have you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you. There is a better tool for that. And it&#8217;s called jq.</p></div><a class="stretched-link gatr" href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/" data-type="related" data-name="Parsing JSON in command-line with jq: basic filters and functions (part 1)"></a></article><article class="card shadow-sm"><div class="card-header" style="background-image:url(/images/og/ratpack-mocking-session.jpg)"><div class="mask"></div><h3 class="h5 text-left font-weight-bold text-white"><div><a class="category">Ratpack Cookbook</a></div><div class="title">Ratpack: mocking Session object in GroovyRequestFixture test</div></h3></div><div class="card-body"><section class="post-meta"><ul><li><time datetime="2018-06-24T09:59:57.000Z">Jun 24, 2018</time></li><li>2 min. read</li><li><a href="https://e.printstacktrace.blog/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/#disqus_thread">0 Comments</a></li></ul></section><p class="card-text pt-3">Ratpack allows you unit test handlers using GroovyRequestFixture class. The good thing about this approach is that it does not require running the whole application and you can quickly test if the handler does what you expect. However, if you retrieve objects from Raptack&#8217;s registry you w ...</p></div><a class="stretched-link gatr" href="/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/" data-type="related" data-name="Ratpack: mocking Session object in GroovyRequestFixture test"></a></article><article class="card shadow-sm"><div class="card-header" style="background-image:url(/images/og/gr8conf-video.jpg)"><div class="mask"></div><h3 class="h5 text-left font-weight-bold text-white"><div><a class="category">Conferences</a></div><div class="title">GR8Conf EU 2019 - what can you expect from my talks?</div></h3></div><div class="card-body"><section class="post-meta"><ul><li><time datetime="2019-05-14T06:40:36.000Z">May 14, 2019</time></li><li>1 min. read</li><li><a href="https://e.printstacktrace.blog/gr8conf-eu-2019-what-can-you-expect-from-my-talks/#disqus_thread">0 Comments</a></li></ul></section><p class="card-text pt-3">GR8Conf EU 2019 starts precisely in 13 days (on May 27th). Each year Copenhagen becomes a heart of Groovy vibrant community for 3 days. The conference offers both talks and workshops, focused on Groovy related topics such as upcoming Groovy 3 release, building DSLs, using Micronaut in the cloud ...</p></div><a class="stretched-link gatr" href="/gr8conf-eu-2019-what-can-you-expect-from-my-talks/" data-type="related" data-name="GR8Conf EU 2019 - what can you expect from my talks?"></a></article></div></div><div class="col-12 text-center mt-5 serif"><h5 class="h3"><span class="small d-block mb-2">More posts from</span><span class="font-weight-bold mark">Ratpack Cookbook</span></h5><div><em class="fas fa-angle-down"></em></div><a class="stretched-link" href="/ratpack-cookbook/"></a></div></section><div class="container py-5"><div class="disqus-comments"><div class="alert alert-info small"><em class="fa fa-info-circle"></em> Want to paste code in the comment and make the formatting look good? Read this - <a href="https://help.disqus.com/en/articles/1717236-syntax-highlighting" target="_blank" rel="noopener"><b>Syntax highlighting</b></a>.</div><div class="comments"><div id="disqus_thread"><div id="disqus_empty" style="display:none">Empty</div></div></div><div class="text-center pt-4"><a class="gatr" href="https://www.jdoqocy.com/click-100191173-10952823" target="_blank" rel="noopener" data-type="grammarly-comments" data-name="Grammar Check"><img class="d-none d-lg-inline" src="/images/yml/grammarly-comments-banner.png" width="728" height="90" alt="Grammar Check " border="0"><img class="d-inline d-lg-none" src="/images/yml/grammarly-square.png" alt="Grammar Check " border="0"></a></div></div><script>function load_disqus(e){var t=document.getElementById("disqus_empty");if(document.contains(t)){var d=document.getElementById("disqus_thread"),n=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&t&&(t.remove(),n.type="text/javascript",n.async=!0,n.src="//"+e+".disqus.com/embed.js",s.appendChild(n))}}window.addEventListener("scroll",function(e){document.scrollingElement.scrollTop>document.getElementById("disqus_thread").offsetTop-500&&load_disqus("eprintstacktrace")},!1)</script></div><footer class="page-footer"><section class="links"><div class="container"><div class="row"><div class="col-12 col-md-2"><h5 class="text-md-left text-center">Useful links</h5><ul class="text-md-left text-center mb-md-0 mb-5"><li><a class="gatr" href="/" data-type="footer-useful-links" data-name="Start here">Start here</a></li><li><a class="gatr" href="/about" data-type="footer-useful-links" data-name="About">About</a></li><li><a class="gatr" href="/archives" data-type="footer-useful-links" data-name="Archives">Archives</a></li><li><a class="gatr" href="/resources" data-type="footer-useful-links" data-name="Resources">Resources</a></li><li><a class="gatr" href="/privacy-policy" data-type="footer-useful-links" data-name="Privacy Policy">Privacy Policy</a></li><li><a class="gatr" href="https://teespring.com/stores/eprintstacktrace" target="_blank" rel="noopener" data-type="footer-useful-links" data-name="Merchandise">Merchandise</a></li><li><a class="gatr" href="https://kit.co/wololock" target="_blank" rel="noopener" data-type="footer-useful-links" data-name="My Kit">My Kit</a></li><li><a class="gatr" href="https://feeds.feedburner.com/Eprintstacktracenet" target="_blank" rel="noopener" data-type="footer-useful-links" data-name="RSS">RSS</a></li><li><a class="gatr" href="/support-me" data-type="footer-useful-links" data-name="Support me">Support the blog <em class="fas fa-heart color-red ml-2"></em></a></li></ul></div><div class="col-12 col-md-3"><h5 class="text-md-left text-center">Popular categories</h5><ul class="text-md-left text-center mb-md-0 mb-5"><li><a class="gatr" href="/groovy-cookbook/" data-type="footer-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2">27</span></a></li><li><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="footer-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2">7</span></a></li><li><a class="gatr" href="/programmers-bookshelf/" data-type="footer-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2">6</span></a></li><li><a class="gatr" href="/micronaut-cookbook/" data-type="footer-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/learning-java/" data-type="footer-category" data-name="Learning Java">Learning Java<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/ratpack-cookbook/" data-type="footer-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/how-to/" data-type="footer-category" data-name="How to">How to<span class="count ml-2">3</span></a></li></ul></div><div class="col-12 col-md-4 text-center"><h5 class="text-md-left text-center">Latest posts</h5><ul class="text-md-left text-center mb-md-0 mb-5"><li><a class="gatr" href="/how-to-merge-two-maps-in-groovy/" data-type="footer-latest-posts" data-name="How to merge two maps in Groovy?">How to merge two maps in Groovy?</a></li><li><a class="gatr" href="/building-stackoverflow-cli-with-java-11-micronaut-picocli-and-graalvm/" data-type="footer-latest-posts" data-name="Building stackoverflow-cli with Java 11, Micronaut, Picocli, and GraalVM">Building stackoverflow-cli with Java 11, Micronaut, Picocli, and GraalVM</a></li><li><a class="gatr" href="/how-to-catch-curl-response-in-jenkins-pipeline/" data-type="footer-latest-posts" data-name="How to catch curl response in Jenkins Pipeline?">How to catch curl response in Jenkins Pipeline?</a></li><li><a class="gatr" href="/atomic-habits-book-review/" data-type="footer-latest-posts" data-name="Atomic Habits - book review">Atomic Habits - book review</a></li><li><a class="gatr" href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/" data-type="footer-latest-posts" data-name="Parsing JSON in command-line with jq: basic filters and functions (part 1)">Parsing JSON in command-line with jq: basic filters and functions (part 1)</a></li><li><a class="gatr" href="/how-to-time-out-jenkins-pipeline-stage-and-keep-the-pipeline-running/" data-type="footer-latest-posts" data-name="How to time out Jenkins Pipeline stage and keep the pipeline running?">How to time out Jenkins Pipeline stage and keep the pipeline running?</a></li></ul></div><div class="col-12 col-md-3 text-center"><a class="gatr" href="https://amzn.to/2ZdC8ib" target="_blank" rel="noopener" data-type="banner" data-name="Audible Free Trial"><img class="img-fluid" src="/images/yml/audible-free-trial.jpg"></a></div></div></div></section><section class="bottom"><div class="container"><ul class="text-center py-2"><li class="d-inline-block mb-md-0 mb-2">Designed by <a class="gatr" href="https://twitter.com/wololock" target="_blank" rel="noopener" data-type="footer" data-name="designed">@wololock</a></li><li class="d-inline-block mb-md-0 mb-2">Created with <a class="gatr" href="https://hexo.io" target="_blank" rel="noopener" data-type="footer" data-name="hexo">Hexo</a></li><li class="d-inline-block mb-md-0 mb-2">Hosted on <a class="gatr" href="https://github.com/wololock/wololock.github.io" target="_blank" rel="noopener" data-type="footer" data-name="github">GitHub</a></li><li class="d-inline-block mb-md-0 mb-2">Deployed with <a class="gatr" href="https://circleci.com/gh/wololock/wololock.github.io" target="_blank" rel="noopener" data-type="footer" data-name="circleci">Circle CI</a></li><li class="d-inline-block mb-md-0 mb-2">License <a class="gatr" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener" data-type="footer" data-name="license">CC BY-NC-SA 4.0</a></li><li class="d-inline-block mb-md-0 mb-2"><a class="gatr" href="https://github.com/wololock/wololock.github.io/commits/develop" target="_blank" rel="noopener" data-type="footer" data-name="last-commit"><img src="https://badgen.net/github/last-commit/wololock/wololock.github.io?color=blue&amp;scale=0.8"></a></li></ul></div></section></footer><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script async src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script><script async src="https://kit.fontawesome.com/25fc8ffdd1.js" crossorigin="anonymous"></script><script async id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#ffad33" data-font-family="Lora,serif" data-font-size="15px" data-bg="#444"></script><script src="/js/highlight.pack.js?v=9.18.1"></script><script>hljs.initHighlightingOnLoad()</script><script async src="/js/main.js?v=6"></script><script async id="dsq-count-scr" src="//eprintstacktrace.disqus.com/count.js"></script><script>!function(a,e,t,n,c,g,r){a.GoogleAnalyticsObject=c,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,g=e.createElement(t),r=e.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(g,r)}(window,document,"script",0,"ga"),ga("create","UA-42400890-5","auto"),ga("send","pageview"),jQuery("a.gatr").click(function(){var a=jQuery(this),e=a.attr("data-type"),t=a.attr("data-name");return ga("send","event",e,"click",t),!0})</script><script>!function(){"use strict";function r(e){var t=e.getAttribute("data-original"),n=new Image;n.onload=function(){e.setAttribute("src",t),e.style.paddingTop=""},n.src=t}document.addEventListener("DOMContentLoaded",function(){var t,e,n,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));i.length&&("undefined"!=typeof IntersectionObserver?(t=new IntersectionObserver(function(e,t){e.filter(function(e){return e.isIntersecting}).forEach(function(e){r(e.target),t.unobserve(e.target)})}),i.forEach(function(e){t.observe(e)})):(n=function(){clearTimeout(e),e=setTimeout(function(){return(i=i.filter(function(e){return!e.src})).length?void i.filter(function(e){e.getBoundingClientRect().top<window.innerHeight&&r(e)}):(window.removeEventListener("scroll",n),void window.removeEventListener("resize",n))},100)},window.addEventListener("scroll",n),window.addEventListener("resize",n),n()))},!1)}();</script></body></html>