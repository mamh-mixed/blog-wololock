<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="robots" content="all"><meta name="ir-site-verification-token" value="626123791"><title>Using the same prefix with different HTTP methods in Ratpack</title><meta name="keywords" content="groovy,ratpack,rest,netty,http,curl"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com"><link rel="shortcut icon" type="image/png" href="/favicon_new.png"><link rel="canonical" href="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:wght@400;500;700|Poppins:300,400,400i,700|Montserrat:400,600,700|Roboto:300,400,400i,700|Lora:400,400i,700,700i&amp;display=swap"><link rel="stylesheet" href="//stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous"><link rel="stylesheet" href="/css/main.css?v=71"><link rel="stylesheet" href="/css/highlight.css?v=71"><meta name="description" content="Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&amp;#8217;s mechanism - it i"><meta property="og:type" content="article"><meta property="og:title" content="Using the same prefix with different HTTP methods in Ratpack"><meta property="og:url" content="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/"><meta property="og:site_name" content="e.printstacktrace.blog - I help you become a better software developer."><meta property="og:description" content="Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&amp;#8217;s mechanism - it i"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://e.printstacktrace.blog/images/cards/25.png"><meta property="article:published_time" content="2019-04-01T08:12:52.000Z"><meta property="article:modified_time" content="2019-04-01T08:12:52.000Z"><meta property="article:author" content="Szymon Stepniak"><meta property="article:tag" content="groovy"><meta property="article:tag" content="ratpack"><meta property="article:tag" content="rest"><meta property="article:tag" content="netty"><meta property="article:tag" content="http"><meta property="article:tag" content="curl"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://e.printstacktrace.blog/images/cards/25.png"><meta name="twitter:creator" content="@wololock"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://e.printstacktrace.blog/#/schema/person/wololock","name":"Szymon Stepniak","description":"I help you become a better software developer.","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/#avatar","inLanguage":"en-US","url":"https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200","caption":"Szymon Stepniak"},"logo":{"@id":"https://e.printstacktrace.blog/#avatar"},"sameAs":["https://twitter.com/wololock","https://github.com/wololock","https://stackoverflow.com/users/2194470/szymon-stepniak","https://www.youtube.com/c/eprintstacktrace"]},{"@type":"WebSite","@id":"https://e.printstacktrace.blog/#website","url":"https://e.printstacktrace.blog","name":"e.printstacktrace.blog - I help you become a better software developer.","description":"Blog about programming, created by Upwork's Top Rated freelancer, 10+ years experienced Java/Groovy developer. Contact me if you are looking for an experienced and high quality consultant."},{"@type":"WebPage","@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#webpage","url":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/","name":"Using the same prefix with different HTTP methods in Ratpack","isPartOf":{"@id":"https://e.printstacktrace.blog/#website"},"datePublished":"2019-04-01T08:12:52.000Z","dateModified":"2019-04-01T08:12:52.000Z","description":"\nRatpack is an excellent tool for building RESTful[1]\napplications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack\nhandler&#8217;s mechanism - it is much different compared to what we have learned by using many popular MVC frameworks.\nIn today&#8217;s blog post I would like to show you a relatively simple example that confused many newcomers.\n","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/"]}]},{"@type":"Article","@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#article","isPartOf":{"@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#webpage"},"author":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"headline":"Using the same prefix with different HTTP methods in Ratpack","datePublished":"2019-04-01T08:12:52.000Z","dateModified":"2019-04-01T08:12:52.000Z","mainEntityOfPage":{"@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#webpage"},"publisher":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"keywords":"groovy,ratpack,rest,netty,http,curl","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#primaryimage","url":"https://e.printstacktrace.blog/images/cards/25.png","inLanguage":"en-US","caption":"Using the same prefix with different HTTP methods in Ratpack"},"inLanguage":"en-US"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Home","item":"https://e.printstacktrace.blog"},{"@type":"ListItem","position":2,"name":"Ratpack Cookbook","item":"https://e.printstacktrace.blog/ratpack-cookbook/"},{"@type":"ListItem","position":3,"name":"Using the same prefix with different HTTP methods in Ratpack"}]}]}</script><meta name="generator" content="Hexo 5.2.0"><link rel="alternate" href="/atom.xml" title="e.printstacktrace.blog - I help you become a better software developer." type="application/atom+xml">
<style>.img-lazyload-container{overflow:hidden;max-width:100%}.img-lazyload-container img{max-width:100%;display:block;height:auto;transition:opacity .5s ease-in-out}.img-lazyload-container img:not([src]){height:0;opacity:0}</style></head><body><header class="fixed-top" id="header"><div class="container"><nav class="navbar navbar-light mx-0 px-0 justify-content-start"><a class="gatr" href="/" data-type="nav" data-name="Home">Home</a><a class="gatr" href="/about" data-type="nav" data-name="About">About</a><a class="gatr" href="/archives" data-type="nav" data-name="Archives">Archives</a><a class="gatr" href="/resources" data-type="nav" data-name="Tools &amp; Resources">Tools & Resources</a><a class="gatr" href="/support-me" data-type="nav" data-name="Support me">Support me</a></nav></div></header><main id="main"><section class="sidebar-enabled" id="content"><div class="container"><div class="row"><div class="col-lg-3 bg-primary sidebar pt-5 d-flex align-items-start flex-column order-1 pr-lg-0"><div class="mb-auto"><div class="text-center pt-lg-5 pl-3"><a href="/about"><img class="rounded-circle mb-4" src="https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200" height="96"></a><h5>Hi! 👋 I'm Szymon</h5><p class="small">I help you become a better software developer.</p></div><div class="my-4 pl-2 text-lg-right text-center"><ul class="social-media"><li><a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/wololock" data-type="social-media" data-name="Twitter" title="Twitter"><i class="fa fa-twitter"></i><span class="number">1.13k</span><span class="description">Followers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.youtube.com/eprintstacktrace" data-type="social-media" data-name="YouTube" title="YouTube"><i class="fa fa-youtube"></i><span class="number">2.12k</span><span class="description">Subscribers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock" data-type="social-media" data-name="Github" title="Github"><i class="fa fa-github"></i><span class="number">103</span><span class="description">Followers</span></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://stackoverflow.com/users/2194470/szymon-stepniak" data-type="social-media" data-name="StackOverflow" title="StackOverflow"><i class="fa fa-stack-overflow"></i><span class="number">29.6k</span><span class="description">Reputation</span></a></li></ul></div><div class="pl-4 mt-lg-5 pt-lg-2"><h4 class="h4 pt-4 mb-4 sans-serif">Latest posts from the <span class="h3 font-weight-bold">Ratpack Cookbook</span></h4><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/using-the-same-prefix-with-different-http-methods-in-ratpack/" data-type="latest-sidebar" data-name="Using the same prefix with different HTTP methods in Ratpack"><img class="rounded" src="/images/icons/25.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/using-the-same-prefix-with-different-http-methods-in-ratpack/" data-type="latest-sidebar" data-name="Using the same prefix with different HTTP methods in Ratpack">Using the same prefix with different HTTP methods in Ratpack</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/ratpack-graalvm-how-to-start/" data-type="latest-sidebar" data-name="Ratpack on GraalVM - how to start?"><img class="rounded" src="/images/icons/40.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/ratpack-graalvm-how-to-start/" data-type="latest-sidebar" data-name="Ratpack on GraalVM - how to start?">Ratpack on GraalVM - how to start?</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/ratpack-register-session-module-in-handler-unit-test/" data-type="latest-sidebar" data-name="Ratpack: register SessionModule in handler unit test"><img class="rounded" src="/images/icons/25.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/ratpack-register-session-module-in-handler-unit-test/" data-type="latest-sidebar" data-name="Ratpack: register SessionModule in handler unit test">Ratpack: register SessionModule in handler unit test</a></h5></div></div><div class="media align-items-center pb-1 mb-3"><a class="d-block gatr" href="/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/" data-type="latest-sidebar" data-name="Ratpack: mocking Session object in GroovyRequestFixture test"><img class="rounded" src="/images/icons/25.png" width="64"></a><div class="media-body pl-2 ml-1"><h5 class="m-0 small" style="font-size:14px;font-weight:600;line-height:22px"><a class="sans-serif gatr" href="/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/" data-type="latest-sidebar" data-name="Ratpack: mocking Session object in GroovyRequestFixture test">Ratpack: mocking Session object in GroovyRequestFixture test</a></h5></div></div><div class="text-center"><a class="view-all" href="/ratpack-cookbook/" data-type="latest-sidebar" data-name="More &amp;raquo;"><span class="d-block m-0">More</span><i class="fas fa-chevron-down d-block m-0"></i></a></div></div><div class="pl-4 mt-5"><h4 class="mb-3">Popular categories</h4><ul class="list-unstyled"><li class="my-1"><a class="gatr" href="/groovy-cookbook/" data-type="sidebar-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2 mark">28</span></a></li><li class="my-1"><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="sidebar-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2 mark">9</span></a></li><li class="my-1"><a class="gatr" href="/programmers-bookshelf/" data-type="sidebar-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2 mark">6</span></a></li><li class="my-1"><a class="gatr" href="/micronaut-cookbook/" data-type="sidebar-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2 mark">4</span></a></li><li class="my-1"><a class="gatr" href="/ratpack-cookbook/" data-type="sidebar-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2 mark">4</span></a></li><li class="my-1"><a class="gatr" href="/learning-java/" data-type="sidebar-category" data-name="Learning Java">Learning Java<span class="count ml-2 mark">4</span></a></li><li class="my-1"><a class="gatr" href="/jq-cookbook/" data-type="sidebar-category" data-name="jq cookbook">jq cookbook<span class="count ml-2 mark">3</span></a></li><li class="my-1"><a class="gatr" href="/how-to/" data-type="sidebar-category" data-name="How to">How to<span class="count ml-2 mark">3</span></a></li><li class="my-1"><a class="gatr" href="/blog-reports/" data-type="sidebar-category" data-name="Blog Reports">Blog Reports<span class="count ml-2 mark">2</span></a></li></ul></div><div class="text-center"><div class="d-none d-lg-inline-block mb-5 pt-5"><a class="gatr" href="https://click.linksynergy.com/fs-bin/click?id=uow2LCEuhvQ&amp;offerid=507388.13498&amp;subid=0&amp;type=4" data-type="banner" data-name="udemy-cyber-deals" target="_blank"><img class="img-fluid" data-lazy="http://merchant.linksynergy.com/fs/banners/39197/39197_13498.png"></a></div><div class="d-inline-block d-lg-none py-3"><a class="gatr" href="https://e.printstacktrace.blog/bluehost" data-type="banner" data-name="bluehost-01" target="_blank"><img class="img-fluid" data-lazy="/images/yml/bluehost-01.png"></a></div></div></div><div class="spread-the-love pt-4 mt-lg-5"><div class="mb-lg-5 pb-5 pl-lg-4"><h3 class="mb-3">Don't miss anything - join my newsletter</h3><p class="text-justify">Additional materials and updates for subscribers. <b>No spam guaranteed</b>.<br>Unsubscribe at any time.</p><div id="ck-5bc70426c4-box"></div><script>function load_newsletter(e){var t=document.getElementById("ck-5bc70426c4-box");if(document.contains(t)){var n=t.parentElement;t.remove();var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://tremendous-motivator-1432.ck.page/"+e+"/index.js",o.setAttribute("data-uid",e),n.appendChild(o),console.log("Convertkit "+e+" loaded.")}}window.addEventListener("scroll",function(e){var t=document.scrollingElement.scrollTop,n=document.getElementById("ck-5bc70426c4-box");document.contains(n)&&t>n.getBoundingClientRect().top- -500&&load_newsletter("5bc70426c4")})</script></div><div class="pl-lg-3 text-lg-left text-center"><p class="m-0 serif">Did you like this article?</p><h5 class="text-uppercase">Spread the <i class="fa fa-heart"></i>!</h5><ul class="mb-5"><li><a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/intent/tweet?text=Using the same prefix with different HTTP methods in Ratpack https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/ via @wololock" data-type="share" data-name="Shared on Twitter"><i class="fa fa-twitter"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.linkedin.com/shareArticle?url=https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/" data-type="share" data-name="Shared on LinkedIn"><i class="fa fa-linkedin"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://www.facebook.com/sharer.php?u=https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/" data-type="share" data-name="Shared on Facebook"><i class="fa fa-facebook-square"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="http://www.reddit.com/submit?url=https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/&amp;title=Using the same prefix with different HTTP methods in Ratpack" data-type="share" data-name="Shared on Reddit"><i class="fa fa-reddit"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/button/?url=https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/&amp;media=https://e.printstacktrace.blog/images/cards/25.png&amp;description=Using the same prefix with different HTTP methods in Ratpack" data-type="share" data-name="Shared on Pinterest"><i class="fa fa-pinterest"></i></a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://ko-fi.com/eprintstacktrace" data-type="share" data-name="Clicked on Ko-Fi">☕️</a></li></ul></div></div></div><div class="col-lg-9 py-5 order-0"><div class="pr-lg-4 px-1 pt-lg-5"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a class="gatr" href="/" data-type="breadcrumb" data-name="/">e.printstacktrace.blog</a></li><li class="breadcrumb-item"><a class="gatr" href="/ratpack-cookbook/" data-type="breadcrumb" data-name="Ratpack Cookbook">Ratpack Cookbook</a></li></ol></nav><article class="post-body"><h1>Using the same prefix with different HTTP methods in Ratpack</h1><div class="post-meta mb-4"><ul><li><time datetime="2019-04-01T08:12:52.000Z">April 1, 2019</time></li><li>5 min. read</li><li><a href="https://e.printstacktrace.blog/using-the-same-prefix-with-different-http-methods-in-ratpack/#disqus_thread">0 Comments</a></li></ul></div><div class="content"><div class="paragraph"><p><a target="_blank" rel="noopener" href="https://ratpack.io/">Ratpack</a> is an excellent tool for building RESTful<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup> applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&#8217;s mechanism - it is much different compared to what we have learned by using many popular MVC frameworks. In today&#8217;s blog post I would like to show you a relatively simple example that confused many newcomers.</p></div><a id="more"></a><div class="sect1"><h2 id="an-example">An example</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s consider the following example. We have a simple API with the <code>/users</code> endpoint. This endpoint handles <code>GET</code> and <code>POST</code> requests. Sounds familiar, right? Here is how we might try to implement it in Ratpack.</p></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">In this example, we use Ratpack&#8217;s excellent <a target="_blank" rel="noopener" href="https://ratpack.io/manual/current/quick-start.html#using_a_groovy_script">integration with Groovy</a>. Instead of creating an application with Gradle or Maven, we create a single Groovy script file with Ratpack Grape item, and we are ready to go. Just a few lines of code and we have a working REST application.</td></tr></table></div><div class="listingblock"><div class="title">Listing 1. Ratpack application as a Groovy script called <code>ratpack.groovy</code></div><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Grab('io.ratpack:ratpack-groovy:1.6.0')

import static ratpack.groovy.Groovy.ratpack

ratpack &#123;
    handlers &#123;
        prefix("users") &#123;
            get &#123;
                response.send("A list of users...")
            &#125;

            post &#123;
                response.send("Create a new user...")
            &#125;
        &#125;
    &#125;
&#125;</code></pre></div></div><div class="paragraph"><p>Let&#8217;s run the application.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ groovy ratpack.groovy</code></pre></div></div><div class="paragraph"><p>We are ready to send some HTTP requests with curl.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -i -X GET http://localhost:5050/users
HTTP/1.1 200 OK
content-type: text/plain;charset=UTF-8
content-length: 18

A list of users...%

$ curl -i -X POST http://localhost:5050/users
HTTP/1.1 405 Method Not Allowed
content-type: text/plain;charset=UTF-8
content-length: 16

Client error 405%</code></pre></div></div><div class="paragraph"><p>Something went wrong. The <code>GET</code> request gets handled correctly, but when we send the <code>POST</code> request, it gets HTTP <strong>405 Method Not Allowed</strong>. Why is that?</p></div><div class="paragraph"><p>The problem is that the <code>prefix</code> method creates a handler (or handlers) that handle requests based on the relative path - it matches all requests starting with a given prefix. In this case, sending requests with the same URI path, but with different HTTP method does not make any difference for our application. Both kinds of requests match the same relative URI path, so Ratpack delegates them to the first handler in the queue. It happens that the first handler is the one that processes <code>GET</code> requests - it accepts any <code>GET</code> request but returns 405 HTTP status if an incorrect method was set.</p></div><div class="paragraph"><p>This is where <code>byMethod</code> helper method comes with help. It creates a chain of handlers that accept the same relative path but handle different HTTP methods. Let&#8217;s use it inside the <code>prefix</code> method and see how it works.</p></div><div class="listingblock"><div class="title">Listing 2. A first approach to use <code>byMethod</code> helper method.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Grab('io.ratpack:ratpack-groovy:1.6.0')

import static ratpack.groovy.Groovy.ratpack

ratpack &#123;
    handlers &#123;
        prefix("users") &#123;
            byMethod &#123;
                get &#123;
                    response.send("A list of users...")
                &#125;

                post &#123;
                    response.send("Create a new user...")
                &#125;
            &#125;
        &#125;
    &#125;
&#125;</code></pre></div></div><div class="paragraph"><p>Now we can run the updated application and test the <code>GET</code> request.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -i -X POST http://localhost:5050/users
HTTP/1.1 500 Internal Server Error
content-type: text/plain;charset=UTF-8
content-length: 5388

groovy.lang.MissingMethodException: No signature of method: ratpack.byMethod() is applicable for argument types: (ratpack$_run_closure1$_closure2$_closure3$_closure4) values: [ratpack$_run_closure1$_closure2$_closure3$_closure4@28289a28]
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.unwrap(ScriptBytecodeAdapter.java:70)
	at org.codehaus.groovy.runtime.callsite.PogoMetaClassSite.callCurrent(PogoMetaClassSite.java:76)
	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallCurrent(CallSiteArray.java:51)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:156)
	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:168)
	at ratpack$_run_closure1$_closure2$_closure3.doCall(ratpack.groovy:8)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</code></pre></div></div><div class="paragraph"><p>Oops. Something went wrong. The <code>MissingMethodException</code> seems like trying to tell us, that there is no option to use <code>byMethod</code> inside the <code>prefix</code> method. Does it mean that we can create separate handlers for different HTTP methods under the same prefix?</p></div></div></div><div class="sect1"><h2 id="the-solution">The solution</h2><div class="sectionbody"><div class="paragraph"><p>The answer is - yes, we can. The problem with the above solution is simple - a closure created for the <code>prefix</code> method does not have access to the context object (it delegates to <code>ratpack.handling.Chain</code> instead). The <code>byMethod</code> method is exposed by the <code>ratpack.handling.Context</code> thus we need something that delegates to it. Luckily, there is a method that delegates to the context object, and that can be used in our example. It&#8217;s <code>path</code> helper method that creates a chain of handlers that match the same relative path. Let&#8217;s take a look at the final example.</p></div><div class="listingblock"><div class="title">Listing 3. The final application code with <code>prefix</code> and <code>byMethod</code> methods combination.</div><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">@Grab('io.ratpack:ratpack-groovy:1.6.0')

import static ratpack.groovy.Groovy.ratpack

ratpack &#123;
    handlers &#123;
        prefix("users") &#123;
            path &#123;
                byMethod &#123;
                    get &#123;
                        response.send("A list of users...")
                    &#125;

                    post &#123;
                        response.send("Create a new user...")
                    &#125;
                &#125;
            &#125;
        &#125;
    &#125;
&#125;</code></pre></div></div><div class="paragraph"><p>Let&#8217;s execute <code>GET</code> and <code>POST</code> requests to see if it works as we expect.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="bash" class="language-bash hljs">$ curl -i -X GET http://localhost:5050/users
HTTP/1.1 200 OK
content-type: text/plain;charset=UTF-8
content-length: 18

A list of users...%

$ curl -i -X POST http://localhost:5050/users
HTTP/1.1 200 OK
content-type: text/plain;charset=UTF-8
content-length: 20

Create a new user...%</code></pre></div></div><div class="paragraph"><p>Cowabunga! It works like a charm.</p></div></div></div><div class="sect1"><h2 id="conclusion">Conclusion</h2><div class="sectionbody"><div class="paragraph"><p>I hope you have learned something new from this blog post. The reason I wrote it is that I couldn&#8217;t find any example in the documentation that covered an example of combining <code>prefix</code> and <code>byMethod</code> methods. However, it is a quite common use case, and people get confused by it.</p></div><div class="paragraph"><p></p><div class="youtube-row py-5"><div class="row"><div class="col-12 col-lg-5 text-lg-left text-center mb-lg-0 mb-4"><a class="thumb gatr d-inline-block" target="_blank" rel="noopener" href="https://youtu.be/KkL2ZMmNY3I" data-time="5:01" data-type="youtube" data-name="Building an HTTP application in a single .groovy file with Ratpack!"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/KkL2ZMmNY3I/mqdefault.jpg"></a></div><div class="col-12 col-lg-7"><h5 class="m-0 p-0 mb-3 text-lg-left text-center"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/KkL2ZMmNY3I" data-type="youtube" data-name="Building an HTTP application in a single .groovy file with Ratpack!">Building an HTTP application in a single .groovy file with Ratpack!</a></h5><p class="sans-serif small text-lg-left text-justify">Learn more about Ratpack here - https://ratpack.io <a class="gatr font-weight-bold" target="_blank" rel="noopener" href="https://youtu.be/KkL2ZMmNY3I" data-type="youtube" data-name="Building an HTTP application in a single .groovy file with Ratpack!">Watch&nbsp;now&nbsp;&raquo;</a></p></div></div></div><p></p></div></div></div><div id="footnotes"><hr><div class="footnote" id="_footnotedef_1"><a href="#_footnoteref_1">1</a>. <a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Representational_state_transfer" class="bare">https://en.wikipedia.org/wiki/Representational_state_transfer</a></div></div></div><ul class="tags-list mt-4"><li><a href="/t/groovy/">groovy</a></li><li><a href="/t/ratpack/">ratpack</a></li><li><a href="/t/rest/">rest</a></li><li><a href="/t/netty/">netty</a></li><li><a href="/t/http/">http</a></li><li><a href="/t/curl/">curl</a></li></ul></article></div></div></div></div></section><section class="bg-dark posts-layout-01" id="related" data-debug="Scrolled to related posts"><div class="container py-5"><div class="row py-lg-5"><div class="col-12 col-lg-7 d-flex align-items-start mb-lg-0 mb-4"><div class="px-3 px-lg-0 pr-lg-5"><article><a href="/graalvm-heap-size-of-native-image-how-to-set-it/"><img class="mb-4 shadow" data-lazy="/images/cards/29.png" width="100%"></a><p class="subtitle m-0"><a href="/learning-java/">Learning Java</a></p><h3 class="m-0 serif"><a href="/graalvm-heap-size-of-native-image-how-to-set-it/">GraalVM and heap size of the native image - how to set it?</a></h3><div class="post-meta mb-4"><ul><li><time datetime="2019-04-02T13:38:38.000Z">April 2, 2019</time></li><li>5 min. read</li><li><a href="https://e.printstacktrace.blog/graalvm-heap-size-of-native-image-how-to-set-it/#disqus_thread">0 Comments</a></li></ul></div><p class="small">In this short blog post, I would like to show you how to set a heap size of the application executed from the native image generated with GraalVM. We will also take a quick look at the effects caused the maximum heap size change.</p></article></div></div><div class="col-12 col-lg-5"><div class="px-3 px-lg-0"><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/jq-cookbook/">jq cookbook</a></p><h4 class="m-0 serif"><a href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/">Parsing JSON in command-line with jq: basic filters and functions (part 1)</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2020-05-24T16:28:32.000Z">May 24, 2020</time></li><li>5 min. read</li><li><a href="https://e.printstacktrace.blog/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/#disqus_thread">0 Comments</a></li></ul></div><p class="small">Have you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux com...</p></div><div class="col-3"><a href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/5.png"></a></div></div></article><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/ratpack-cookbook/">Ratpack Cookbook</a></p><h4 class="m-0 serif"><a href="/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/">Ratpack: mocking Session object in GroovyRequestFixture test</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2018-06-24T09:59:57.000Z">June 24, 2018</time></li><li>5 min. read</li><li><a href="https://e.printstacktrace.blog/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/#disqus_thread">0 Comments</a></li></ul></div><p class="small">Ratpack allows you unit test handlers using GroovyRequestFixture class. The good thing about thi...</p></div><div class="col-3"><a href="/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/25.png"></a></div></div></article><article class="tile"><div class="row mb-4"><div class="col-9"><p class="subtitle m-0"><a href="/ratpack-cookbook/">Ratpack Cookbook</a></p><h4 class="m-0 serif"><a href="/ratpack-register-session-module-in-handler-unit-test/">Ratpack: register SessionModule in handler unit test</a></h4><div class="post-meta mb-4"><ul><li><time datetime="2018-06-26T20:55:38.000Z">June 26, 2018</time></li><li>5 min. read</li><li><a href="https://e.printstacktrace.blog/ratpack-register-session-module-in-handler-unit-test/#disqus_thread">0 Comments</a></li></ul></div><p class="small">Unit testing Ratpack handlers has many benefits. In the previous post we have learned how to moc...</p></div><div class="col-3"><a href="/ratpack-register-session-module-in-handler-unit-test/"><img class="img-fluid rounded shadow-sm mt-3 mb-lg-0" data-lazy="/images/icons/25.png"></a></div></div></article><a class="gatr" href="https://click.linksynergy.com/fs-bin/click?id=uow2LCEuhvQ&amp;offerid=572706.11&amp;type=3&amp;subid=0" data-type="banner" data-name="nordvpn-03" target="_blank"><img class="img-fluid" data-lazy="/images/yml/nord-vpn-03.png"></a></div></div></div></div></section><section class="sidebar-enabled" id="comments" data-debug="Scrolled to comments"><div class="container"><div class="row"><div class="col-12 col-lg-3 sidebar order-lg-1 order-0"><div class="py-lg-5 py-3 position-sticky text-center" style="top:20px"><div class="d-inline-block d-lg-none"><a class="gatr" href="https://www.jdoqocy.com/click-100191173-10952823" data-type="banner" data-name="grammarly-02" target="_blank"><img class="img-fluid" data-lazy="/images/yml/grammarly-02.png"></a></div><div class="d-none d-lg-inline-block"><a class="gatr" href="https://www.jdoqocy.com/click-100191173-10952823" data-type="banner" data-name="grammarly-01" target="_blank"><img class="img-fluid" data-lazy="/images/yml/grammarly-tower.png"></a></div></div></div><div class="col-12 col-lg-9 order-0 order-lg-0 order-1"><div class="pr-lg-5 py-5"><p class="m-0 serif small text-muted">Any thoughts or ideas?</p><h2 class="mb-4">Let's talk in the comment's section 💬</h2><div class="disqus-comments"><div class="tip mb-5">Want to put a code sample in the comment? Read the <a target="_blank" rel="noopener" href="https://help.disqus.com/en/articles/1717236-syntax-highlighting"><b>Syntax highlighting</b></a> guide for more information.</div><div class="comments"><div id="disqus_thread"><div id="disqus_empty" style="display:none">Empty</div></div></div></div><script>function load_disqus(e){var t=document.getElementById("disqus_empty");if(document.contains(t)){var d=document.getElementById("disqus_thread"),n=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&t&&(t.remove(),n.type="text/javascript",n.async=!0,n.src="//"+e+".disqus.com/embed.js",s.appendChild(n))}}window.addEventListener("scroll",function(e){document.scrollingElement.scrollTop>document.getElementById("disqus_thread").offsetTop-500&&load_disqus("eprintstacktrace")},!1)</script></div></div></div></div></section></main><footer class="bg-dark" id="footer" data-debug="Scrolled to footer"><div class="container py-5"><div class="px-lg-0 px-3"><div class="row py-lg-3"><div class="col-12 col-md-6"><h5 class="mb-4">Latest blog posts</h5><ul class="list-unstyled mb-5"><li><a href="/merging-json-files-recursively-in-the-command-line/">Merging JSON files recursively in the command-line</a></li><li><a href="/jenkins-declarative-pipeline-dynamic-agent/">Jenkins Declarative Pipeline with the dynamic agent - how to configure it?</a></li><li><a href="/groovy-ecosystem-usage-report-2020/">Groovy Ecosystem Usage Report (2020)</a></li><li><a href="/how-to-convert-json-to-csv-from-the-command-line/">How to convert JSON to CSV from the command-line?</a></li><li><a href="/5-common-jenkins-pipeline-mistakes/">5 Common Jenkins Pipeline Mistakes</a></li><li><a href="/how-to-merge-two-maps-in-groovy/">How to merge two maps in Groovy?</a></li><li><a href="/building-stackoverflow-cli-with-java-11-micronaut-picocli-and-graalvm/">Building stackoverflow-cli with Java 11, Micronaut, Picocli, and GraalVM</a></li><li><a href="/how-to-catch-curl-response-in-jenkins-pipeline/">How to catch curl response in Jenkins Pipeline?</a></li><li><a href="/atomic-habits-book-review/">Atomic Habits - book review</a></li><li><a href="/parsing-json-in-command-line-with-jq-basic-filters-and-functions-part-1/">Parsing JSON in command-line with jq: basic filters and functions (part 1)</a></li></ul></div><div class="col-12 col-md-6"><h5 class="mb-4">Trending videos</h5><div class="youtube-row mb-4"><div class="row"><div class="col-12 col-lg-6 text-lg-left text-center mb-lg-0 mb-4"><a class="d-inline-block thumb gatr" target="_blank" rel="noopener" href="https://youtu.be/aFRjn_4nb-Q" data-type="youtube" data-name="5 Common Jenkins Pipeline Mistakes 🔥" data-time="17:46"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/aFRjn_4nb-Q/mqdefault.jpg"></a></div><div class="col-12 col-lg-6"><h6 class="m-0 p-0 mb-3 sans-serif text-lg-left text-center px-lg-0 px-4"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/aFRjn_4nb-Q" data-type="youtube" data-name="5 Common Jenkins Pipeline Mistakes 🔥">5 Common Jenkins Pipeline Mistakes 🔥</a></h6><p class="sans-serif small text-justify">In this Jenkins Pipeline tutorial video, I reveal five common Jenkins Pipeline mistakes and I explain how those mistakes can ...</p></div></div></div><div class="youtube-row mb-4"><div class="row"><div class="col-12 col-lg-6 text-lg-left text-center mb-lg-0 mb-4"><a class="d-inline-block thumb gatr" target="_blank" rel="noopener" href="https://youtu.be/Ei_Nk14vruE" data-type="youtube" data-name="Jenkins Declarative Pipeline vs Scripted Pipeline - 4 key differences | #jenkinspipeline" data-time="13:45"><img class="img-fluid shadow" data-lazy="https://i3.ytimg.com/vi/Ei_Nk14vruE/mqdefault.jpg"></a></div><div class="col-12 col-lg-6"><h6 class="m-0 p-0 mb-3 sans-serif text-lg-left text-center px-lg-0 px-4"><a class="gatr" target="_blank" rel="noopener" href="https://youtu.be/Ei_Nk14vruE" data-type="youtube" data-name="Jenkins Declarative Pipeline vs Scripted Pipeline - 4 key differences | #jenkinspipeline">Jenkins Declarative Pipeline vs Scripted Pipeline - 4 key differences | #jenkinspipeline</a></h6><p class="sans-serif small text-justify">Jenkins Pipeline as a code is a new standard for defining continuous integration and delivery pipelines in Jenkins. The scrip...</p></div></div></div></div></div><div class="row text-lg-left text-center"><div class="col-12 col-md-3 mb-lg-0 mb-4"><h5 class="mb-4">Useful links</h5><ul class="list-unstyled"><li><a class="gatr" href="/" data-type="footer-useful-links" data-name="Start here">Start here</a></li><li><a class="gatr" href="/about" data-type="footer-useful-links" data-name="About">About</a></li><li><a class="gatr" href="/archives" data-type="footer-useful-links" data-name="Archives">Archives</a></li><li><a class="gatr" href="/resources" data-type="footer-useful-links" data-name="Resources">Resources</a></li><li><a class="gatr" href="/privacy-policy" data-type="footer-useful-links" data-name="Privacy Policy">Privacy Policy</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://teespring.com/stores/eprintstacktrace" data-type="footer-useful-links" data-name="Merchandise">Merchandise</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://kit.co/wololock" data-type="footer-useful-links" data-name="My Kit">My Kit</a></li><li><a class="gatr" target="_blank" rel="noopener" href="https://feeds.feedburner.com/Eprintstacktracenet" data-type="footer-useful-links" data-name="RSS">RSS</a></li><li><a class="gatr" href="/support-me" data-type="footer-useful-links" data-name="Support me">Support the blog <em class="fas fa-heart color-red ml-2"></em></a></li></ul></div><div class="col-12 col-md-3 mb-lg-0 mb-4"><h5 class="mb-4">Popular categories</h5><ul class="list-unstyled"><li><a class="gatr" href="/groovy-cookbook/" data-type="footer-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2 text-muted">28</span></a></li><li><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="footer-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2 text-muted">9</span></a></li><li><a class="gatr" href="/programmers-bookshelf/" data-type="footer-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2 text-muted">6</span></a></li><li><a class="gatr" href="/micronaut-cookbook/" data-type="footer-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2 text-muted">4</span></a></li><li><a class="gatr" href="/ratpack-cookbook/" data-type="footer-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2 text-muted">4</span></a></li><li><a class="gatr" href="/learning-java/" data-type="footer-category" data-name="Learning Java">Learning Java<span class="count ml-2 text-muted">4</span></a></li><li><a class="gatr" href="/jq-cookbook/" data-type="footer-category" data-name="jq cookbook">jq cookbook<span class="count ml-2 text-muted">3</span></a></li><li><a class="gatr" href="/how-to/" data-type="footer-category" data-name="How to">How to<span class="count ml-2 text-muted">3</span></a></li><li><a class="gatr" href="/blog-reports/" data-type="footer-category" data-name="Blog Reports">Blog Reports<span class="count ml-2 text-muted">2</span></a></li></ul></div><div class="col-12 col-md-6"><h5 class="mb-4">Popular tags</h5><section class="tagcloud"><a href="/t/affiliate/" style="font-size:1.8em;color:#7b828b">affiliate</a> <a href="/t/async/" style="font-size:1.4em;color:#696f76">async</a> <a href="/t/benchmark/" style="font-size:1.6em;color:#727880">benchmark</a> <a href="/t/blogging/" style="font-size:1.2em;color:#60666b">blogging</a> <a href="/t/book/" style="font-size:2em;color:#848b95">book</a> <a href="/t/career/" style="font-size:1.2em;color:#60666b">career</a> <a href="/t/cicd/" style="font-size:2.4em;color:#969daa">cicd</a> <a href="/t/continuous-integration/" style="font-size:1.4em;color:#696f76">continuous-integration</a> <a href="/t/curl/" style="font-size:1.6em;color:#727880">curl</a> <a href="/t/devops/" style="font-size:2.2em;color:#8d94a0">devops</a> <a href="/t/docker/" style="font-size:1.6em;color:#727880">docker</a> <a href="/t/git/" style="font-size:1.2em;color:#60666b">git</a> <a href="/t/github/" style="font-size:1.4em;color:#696f76">github</a> <a href="/t/graalvm/" style="font-size:2.4em;color:#969daa">graalvm</a> <a href="/t/gradle/" style="font-size:1.2em;color:#60666b">gradle</a> <a href="/t/grails/" style="font-size:1.4em;color:#696f76">grails</a> <a href="/t/groovy/" style="font-size:3em;color:#b1b9ca">groovy</a> <a href="/t/haskell/" style="font-size:1.4em;color:#696f76">haskell</a> <a href="/t/hexo/" style="font-size:1.2em;color:#60666b">hexo</a> <a href="/t/java/" style="font-size:2.8em;color:#a8b0bf">java</a> <a href="/t/java-8/" style="font-size:1.4em;color:#696f76">java-8</a> <a href="/t/jenkins/" style="font-size:2.6em;color:#9fa7b5">jenkins</a> <a href="/t/jenkins-pipeline/" style="font-size:2.6em;color:#9fa7b5">jenkins-pipeline</a> <a href="/t/jenkinsfile/" style="font-size:1.4em;color:#696f76">jenkinsfile</a> <a href="/t/jmh/" style="font-size:1.8em;color:#7b828b">jmh</a> <a href="/t/jq/" style="font-size:1.6em;color:#727880">jq</a> <a href="/t/json/" style="font-size:1.6em;color:#727880">json</a> <a href="/t/junit/" style="font-size:1.4em;color:#696f76">junit</a> <a href="/t/learning/" style="font-size:1.6em;color:#727880">learning</a> <a href="/t/maven/" style="font-size:1.4em;color:#696f76">maven</a> <a href="/t/metaprogramming/" style="font-size:1.2em;color:#60666b">metaprogramming</a> <a href="/t/micronaut/" style="font-size:2em;color:#848b95">micronaut</a> <a href="/t/native-image/" style="font-size:1.8em;color:#7b828b">native-image</a> <a href="/t/non-blocking/" style="font-size:1.6em;color:#727880">non-blocking</a> <a href="/t/progress/" style="font-size:1.2em;color:#60666b">progress</a> <a href="/t/ratpack/" style="font-size:2.4em;color:#969daa">ratpack</a> <a href="/t/reactive-programming/" style="font-size:1.4em;color:#696f76">reactive-programming</a> <a href="/t/reading/" style="font-size:1.4em;color:#696f76">reading</a> <a href="/t/recursion/" style="font-size:1.4em;color:#696f76">recursion</a> <a href="/t/review/" style="font-size:2em;color:#848b95">review</a> <a href="/t/rxjava/" style="font-size:1.4em;color:#696f76">rxjava</a> <a href="/t/sdkman/" style="font-size:1.6em;color:#727880">sdkman</a> <a href="/t/session/" style="font-size:1.2em;color:#60666b">session</a> <a href="/t/split/" style="font-size:1.2em;color:#60666b">split</a> <a href="/t/spock/" style="font-size:1.6em;color:#727880">spock</a> <a href="/t/stackoverflow/" style="font-size:1.4em;color:#696f76">stackoverflow</a> <a href="/t/string/" style="font-size:1.4em;color:#696f76">string</a> <a href="/t/tail-call/" style="font-size:1.2em;color:#60666b">tail-call</a> <a href="/t/tail-recursion/" style="font-size:1.2em;color:#60666b">tail-recursion</a> <a href="/t/unit-test/" style="font-size:1.6em;color:#727880">unit-test</a></section></div></div></div></div><section class="bottom"><div class="container"><ul class="text-center py-1 m-0"><li class="d-inline-block">Designed by <a class="gatr" target="_blank" rel="noopener" href="https://twitter.com/wololock" data-type="footer" data-name="designed">@wololock</a></li><li class="d-inline-block">Created with <a class="gatr" target="_blank" rel="noopener" href="https://hexo.io" data-type="footer" data-name="hexo">Hexo</a></li><li class="d-inline-block">Hosted on <a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock/wololock.github.io" data-type="footer" data-name="github">GitHub</a></li><li class="d-inline-block">Deployed with <a class="gatr" target="_blank" rel="noopener" href="https://circleci.com/gh/wololock/wololock.github.io" data-type="footer" data-name="circleci">Circle CI</a></li><li class="d-inline-block">License <a class="gatr" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" data-type="footer" data-name="license">CC BY-NC-SA 4.0</a></li><li class="d-inline-block"><a class="gatr" target="_blank" rel="noopener" href="https://github.com/wololock/wololock.github.io/commits/develop" data-type="footer" data-name="last-commit"><img data-lazy="https://badgen.net/github/last-commit/wololock/wololock.github.io?color=blue&amp;scale=0.8"></a></li></ul></div></section></footer><script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script><script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/48c5da59c9.js" crossorigin="anonymous" async></script><script async id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#5fc4ff" data-font-family="Lora,serif" data-font-size="16px" data-bg="#1d2b36"></script><script src="/js/main.js?v=11"></script><script src="/js/highlightjs/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad()</script><script async id="dsq-count-scr" src="//eprintstacktrace.disqus.com/count.js"></script><script>!function(e,t,a,c,n,i,r){e.GoogleAnalyticsObject=n,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,i=t.createElement(a),r=t.getElementsByTagName(a)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)}(window,document,"script",0,"ga"),ga("create","UA-42400890-5","auto"),ga("send","pageview"),jQuery(document).on("mousedown","a.gatr",function(e){var t=jQuery(this),a=t.attr("data-type"),c=t.attr("data-name"),n=1===e.which?"click":2===e.which?"middle-click":"right-click";return ga("send","event",a,n,c),!0}),jQuery(document).on("mousedown","#related a",function(e){var t=jQuery(this),a=1===e.which?"click":2===e.which?"middle-click":"right-click";return ga("send","event","related",a,t.attr("href")),!0}),jQuery(document).on("mousedown","#footer a",function(e){var t=jQuery(this),a=1===e.which?"click":2===e.which?"middle-click":"right-click";return ga("send","event","footer",a,t.attr("href")),!0})</script><script>!function(){"use strict";function r(e){var t=e.getAttribute("data-original"),n=new Image;n.onload=function(){e.setAttribute("src",t),e.style.paddingTop=""},n.src=t}document.addEventListener("DOMContentLoaded",function(){var t,e,n,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));i.length&&("undefined"!=typeof IntersectionObserver?(t=new IntersectionObserver(function(e,t){e.filter(function(e){return e.isIntersecting}).forEach(function(e){r(e.target),t.unobserve(e.target)})}),i.forEach(function(e){t.observe(e)})):(n=function(){clearTimeout(e),e=setTimeout(function(){return(i=i.filter(function(e){return!e.src})).length?void i.filter(function(e){e.getBoundingClientRect().top<window.innerHeight&&r(e)}):(window.removeEventListener("scroll",n),void window.removeEventListener("resize",n))},100)},window.addEventListener("scroll",n),window.addEventListener("resize",n),n()))},!1)}();</script></body></html>