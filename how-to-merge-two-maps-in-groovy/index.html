<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="author" content="Szymon Stepniak"><meta name="robots" content="index, follow"><meta name="monetization" content="$ilp.uphold.com/Jfxe9Qd9z8Mb"><title>How to merge two maps in Groovy?</title><meta name="description" content="One of the most popular map-related operation in any programming language is merging two (or more) maps. In this short blog post, I explain how to do it in the Groovy programming language, starting fr"><meta property="og:type" content="article"><meta property="og:title" content="How to merge two maps in Groovy?"><meta property="og:url" content="https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/"><meta property="og:site_name" content="Szymon Stepniak - Freelance Groovy Developer &amp; DevOps"><meta property="og:description" content="One of the most popular map-related operation in any programming language is merging two (or more) maps. In this short blog post, I explain how to do it in the Groovy programming language, starting fr"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://e.printstacktrace.blog/images/og/how-to-merge-two-maps-in-groovy.jpg"><meta property="article:published_time" content="2020-07-17T18:11:17.000Z"><meta property="article:modified_time" content="2020-07-17T18:11:17.000Z"><meta property="article:author" content="Szymon Stepniak"><meta property="article:tag" content="groovy"><meta property="article:tag" content="maps"><meta property="article:tag" content="merge"><meta property="article:tag" content="quick-tip"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://e.printstacktrace.blog/images/og/how-to-merge-two-maps-in-groovy.jpg"><meta name="twitter:creator" content="@wololock"><meta name="keywords" content="groovy,maps,merge,quick-tip"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com"><link rel="dns-prefetch" href="//disqus.com"><link rel="dns-prefetch" href="//c.disquscdn.com"><link href="//fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;700&amp;display=swap" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&amp;display=swap" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet"><link href="//fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,700;1,400&amp;display=swap" rel="stylesheet"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous"><link rel="shortcut icon" type="image/png" href="/favicon_new.png"><link rel="stylesheet" href="/css/main.css?v=60"><link rel="stylesheet" href="/css/highlightjs.css?v=60"><link rel="canonical" href="https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/"><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":["Person","Organization"],"@id":"https://e.printstacktrace.blog/#/schema/person/wololock","name":"Szymon Stepniak","description":"Groovista, Upwork's Top Rated freelancer, Toru≈Ñ Java User Group founder, open&nbsp;source contributor, Stack Overflow addict, bedroom guitar player. I walk through e.printStackTrace() so you don't have to.","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/#avatar","inLanguage":"en-US","url":"https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200","caption":"Szymon Stepniak"},"logo":{"@id":"https://e.printstacktrace.blog/#avatar"},"sameAs":["https://twitter.com/wololock","https://github.com/wololock","https://stackoverflow.com/users/2194470/szymon-stepniak","https://www.youtube.com/c/eprintstacktrace"]},{"@type":"WebSite","@id":"https://e.printstacktrace.blog/#website","url":"https://e.printstacktrace.blog","name":"Szymon Stepniak - Freelance Groovy Developer & DevOps","description":"Blog about programming, created by Upwork's Top Rated freelancer, 10+ years experienced Java/Groovy developer. Contact me if you are looking for an experienced and high quality consultant."},{"@type":"WebPage","@id":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/#webpage","url":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/","name":"How to merge two maps in Groovy?","isPartOf":{"@id":"https://e.printstacktrace.blog/#website"},"datePublished":"2020-07-17T18:11:17.000Z","dateModified":"2020-07-17T18:11:17.000Z","description":"One of the most popular map-related operation in any programming language is merging two (or more) maps. In this short blog post, I explain how to do it in the Groovy programming language, starting from the simplest + operation, up to more advanced use cases of merging nested maps and using runtime metaprogramming to add a merge method to the Map interface. Enjoy reading and learning!","inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/"]}]},{"@type":"Article","@id":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/#article","isPartOf":{"@id":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/#webpage"},"author":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"headline":"How to merge two maps in Groovy?","datePublished":"2020-07-17T18:11:17.000Z","dateModified":"2020-07-17T18:11:17.000Z","mainEntityOfPage":{"@id":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/#webpage"},"publisher":{"@id":"https://e.printstacktrace.blog/#/schema/person/wololock"},"keywords":"groovy,maps,merge,quick-tip","image":{"@type":"ImageObject","@id":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/#primaryimage","url":"https://e.printstacktrace.blog/images/og/how-to-merge-two-maps-in-groovy.jpg","inLanguage":"en-US","caption":"How to merge two maps in Groovy?"},"inLanguage":"en-US"},{"@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"https://e.printstacktrace.blog","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@id":"https://e.printstacktrace.blog/groovy-cookbook/","name":"Groovy Cookbook"}},{"@type":"ListItem","position":3,"item":{"@id":"https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/","name":"How to merge two maps in Groovy?"}}]}]}</script><meta name="generator" content="Hexo 4.2.1"><link rel="alternate" href="/atom.xml" title="Szymon Stepniak - Freelance Groovy Developer & DevOps" type="application/atom+xml">
<style>.img-lazyload-container{overflow:hidden;max-width:100%}.img-lazyload-container img{max-width:100%;display:block;height:auto;transition:opacity .5s ease-in-out}.img-lazyload-container img:not([src]){height:0;opacity:0}</style></head><body class="layout-post"><header class="fixed-top" id="header"><div class="container-fluid px-md-auto px-0"><nav class="navbar navbar-expand-lg"><h3 class="logo mr-auto position-relative">e.printstacktrace.blog<a class="stretched-link" href="/"></a></h3><button class="navbar-toggler" data-toggle="collapse" data-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="mainNav"><ul class="navbar-nav ml-lg-auto text-center text-md-left d-block d-lg-flex"><li class="nav-item"><a class="nav-link" href="/">Start here</a></li><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/support-me">Support the blog</a></li><li class="nav-item"><a class="nav-link" href="/archives">Archives</a></li><li class="nav-item"><a class="nav-link" href="/resources">Resources</a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://twitter.com/wololock" target="_blank" rel="noopener" data-type="social" data-name="Twitter"><em class="fa fa-twitter"></em></a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://github.com/wololock" target="_blank" rel="noopener" data-type="social" data-name="GitHub"><em class="fa fa-github"></em></a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://stackoverflow.com/users/2194470/szymon-stepniak" target="_blank" rel="noopener" data-type="social" data-name="Stack Overflow"><em class="fa fa-stack-overflow"></em></a></li><li class="nav-item d-inline-block d-lg-block mx-2 mx-lg-0"><a class="nav-link gatr" href="https://youtube.com/c/eprintstacktrace" target="_blank" rel="noopener" data-type="social" data-name="YouTube"><em class="fa fa-youtube"></em></a></li></ul></div></nav></div></header><main id="page-post"><header class="jumbotron text-center pb-5" style="background-image:url(/images/bg/groovy-cookbook.jpg)"><div class="mask"></div><div class="container pt-5 pb-1"><a class="category mark" href="/groovy-cookbook/">Groovy Cookbook</a><h1 class="mt-2 mt-md-0">How to merge two maps in Groovy?</h1><section class="post-meta"><ul><li><time datetime="2020-07-17T18:11:17.000Z">Jul 17, 2020</time></li><li>6 min. read</li><li><a href="https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/#disqus_thread">0 Comments</a></li></ul></section></div></header><article class="post-content" role="article"><div class="container"><div class="row"><div class="col-12 offset-0 col-md-10 offset-md-1 pt-4 pt-md-5"><div class="paragraph"><p>One of the most popular map-related operation in any programming language is merging two (or more) maps. In this short blog post, I explain how to do it in the Groovy programming language, starting from the simplest <code>+</code> operation, up to more advanced use cases of merging nested maps and using runtime metaprogramming to add a <code>merge</code> method to the <code>Map</code> interface. Enjoy reading and learning!</p></div><a id="more"></a><div id="toc" class="toc"><div id="toctitle" class="title">Table of Contents</div><ul class="sectlevel1"><li><a href="#merge-maps-using-operator">Merge maps using <code>+</code> operator</a></li><li><a href="#merge-maps-with-nested-maps">Merge maps with nested maps</a></li><li><a href="#merging-maps-with-nested-lists">Merging maps with nested lists</a></li><li><a href="#adding-merge-method-to-the-map-interface">Adding <code>merge</code> method to the <code>Map</code> interface</a></li><li><a href="#bonus-using-map-withdefault-method">Bonus: using <code>Map.withDefault</code> method</a></li></ul></div><div class="sect1"><h2 id="merge-maps-using-operator">Merge maps using <code>+</code> operator</h2><div class="sectionbody"><div class="paragraph"><p>The easiest way to merge two maps in Groovy is to use <code>+</code> operator. This method is straightforward - it creates a new map from the left-hand-side and right-hand-side maps. The below example illustrates it clearly.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">def a = [a: 1, b: 3]
def b = [a: 2, c: 4]

def c = a + b

assert c == [a: 2, b: 3, c: 4]</code></pre></div></div><div class="paragraph"><p>However, this method has one limitation - it doesn&#8217;t perform a so-called <em>"deep merge"</em> operation. Any nested map won&#8217;t get merged - it will only override the left-hand-side map entry with the one from the right-hand-side map. Just like in the example shown below.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">def a = [a: 1, b: 3, z: [a: 10, b: 20]]
def b = [a: 2, c: 4, z: [c: 30]]

def c = a + b

assert c == [a: 2, b: 3, c: 4, z: [c: 30]]</code></pre></div></div><div class="paragraph"><p>You can see that the final map contains the <code>z</code> key. However, the value it stores comes from the right-hand-side map only.</p></div></div></div><div class="sect1"><h2 id="merge-maps-with-nested-maps">Merge maps with nested maps</h2><div class="sectionbody"><div class="paragraph"><p>It can be fixed by implementing custom <code>merge(lhs,rhs)</code> function.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">def a = [a: 1, b: 3, z: [a: 10, b: 20]]
def b = [a: 2, c: 4, z: [c: 30]]

def merge(Map lhs, Map rhs) {
    return rhs.inject(lhs.clone()) { map, entry -&gt;
        if (map[entry.key] instanceof Map &amp;&amp; entry.value instanceof Map) {
            map[entry.key] = merge(map[entry.key], entry.value)
        } else {
            map[entry.key] = entry.value
        }
        return map
    }
}

def d = merge(a, b)

assert d == [a: 2, b: 3, c: 4, z: [a: 10, b: 20, c: 30]]</code></pre></div></div><div class="paragraph"><p>It starts with the <a href="http://docs.groovy-lang.org/latest/html/groovy-jdk/java/util/Collection.html#inject(java.lang.Object,%20groovy.lang.Closure)" target="_blank" rel="noopener"><code>inject</code> function</a>, which is an equivalent (or close equivalent) of the <code>reduce</code> or <code>fold</code> functions from other popular programming languages. It takes two parameters - the initial value (the <code>lhs.clone()</code> in our case), and the two-argument closure that receives the current accumulator (the <code>map</code> variable from our example) and the current map entry from the iteration.</p></div><div class="admonitionblock tip"><table><tr><td class="icon"><i class="fa icon-tip" title="Tip"></i></td><td class="content">We use <code>lhs.clone()</code> to avoid creating any side effects. If we use just <code>lhs</code>, we would modify the state of the first map passed to the <code>merge</code> function.</td></tr></table></div><div class="paragraph"><p>In the next step, we need to check what is the type of the specific map key. If the same key stores a map in both maps, we call a <code>merge</code> function to create a new value as a result of merging two nested maps. Otherwise, we just copy the value from the right-hand-side map.</p></div><div class="paragraph"><p>It looks like we are ready to go, but what if maps we are merging contain e.g. a list of numbers?</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">def a = [a: 1, b: 3, z: [a: 10, b: 20], y: [1,2,3,4]]
def b = [a: 2, c: 4, z: [c: 30], y: [5,6,7]]

def merge(Map lhs, Map rhs) {
    return rhs.inject(lhs.clone()) { map, entry -&gt;
        if (map[entry.key] instanceof Map &amp;&amp; entry.value instanceof Map) {
            map[entry.key] = merge(map[entry.key], entry.value)
        } else {
            map[entry.key] = entry.value
        }
        return map
    }
}

def d = merge(a, b)

assert d == [a: 2, b: 3, c: 4, z: [a: 10, b: 20, c: 30], y: [5,6,7]]</code></pre></div></div><div class="paragraph"><p>Our current implementation does not support merging nested lists. Let&#8217;s fix it.</p></div></div></div><div class="sect1"><h2 id="merging-maps-with-nested-lists">Merging maps with nested lists</h2><div class="sectionbody"><div class="paragraph"><p>The solution to this problem is simple. We need to add one more condition.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">def a = [a: 1, b: 3, z: [a: 10, b: 20], y: [1,2,3,4]]
def b = [a: 2, c: 4, z: [c: 30], y: [5,6,7]]

def merge(Map lhs, Map rhs) {
    return rhs.inject(lhs.clone()) { map, entry -&gt;
        if (map[entry.key] instanceof Map &amp;&amp; entry.value instanceof Map) {
            map[entry.key] = merge(map[entry.key], entry.value)
        } else if (map[entry.key] instanceof Collection &amp;&amp; entry.value instanceof Collection) {
            map[entry.key] += entry.value
        } else {
            map[entry.key] = entry.value
        }
        return map
    }
}

def d = merge(a, b)

assert d == [a: 2, b: 3, c: 4, z: [a: 10, b: 20, c: 30], y: [1,2,3,4,5,6,7]]</code></pre></div></div><div class="paragraph"><p>It works! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div></div></div><div class="sect1"><h2 id="adding-merge-method-to-the-map-interface">Adding <code>merge</code> method to the <code>Map</code> interface</h2><div class="sectionbody"><div class="paragraph"><p>Groovy supports <a href="https://groovy-lang.org/metaprogramming.html#_methods" target="_blank" rel="noopener">runtime and compile time metaprogramming</a>. We can use it to add <code>merge(Map m)</code> method to the <code>Map</code> interface. Let&#8217;s re-use the <code>merge</code> function we&#8217;ve already implemented.</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">def a = [a: 1, b: 3, z: [a: 10, b: 20], y: [1,2,3,4]]
def b = [a: 2, c: 4, z: [c: 30], y: [5,6,7]]

def merge(Map lhs, Map rhs) {
    return rhs.inject(lhs.clone()) { map, entry -&gt;
        if (map[entry.key] instanceof Map &amp;&amp; entry.value instanceof Map) {
            map[entry.key] = merge(map[entry.key], entry.value)
        } else if (map[entry.key] instanceof Collection &amp;&amp; entry.value instanceof Collection) {
            map[entry.key] += entry.value
        } else {
            map[entry.key] = entry.value
        }
        return map
    }
}

Map.metaClass.merge &lt;&lt; { Map rhs -&gt; merge(delegate, rhs) } <i class="conum" data-value="1"></i><b>(1)</b>

def e = a.merge(b) <i class="conum" data-value="2"></i><b>(2)</b>

assert e == [a: 2, b: 3, c: 4, z: [a: 10, b: 20, c: 30], y: [1,2,3,4,5,6,7]]</code></pre></div></div><div class="paragraph"><p>In the final example, we use runtime metaprogramming to create <code>merge(Map rhs)</code> method in the <code>Map</code> interface <em class="conum" data-value="1"></em>. This way we can simply call <code>a.merge(b)</code> <em class="conum" data-value="2"></em> to create a new map using deep merge operation.</p></div></div></div><div class="sect1"><h2 id="bonus-using-map-withdefault-method">Bonus: using <code>Map.withDefault</code> method</h2><div class="sectionbody"><div class="paragraph"><p>The last tip comes from the Reddit user <a href="https://www.reddit.com/r/groovy/comments/htx1d9/how_to_merge_two_maps_in_groovy/fyk4xdg/" target="_blank" rel="noopener"><span class="icon color-reddit"><i class="fa fa-reddit"></i></span> <code>/u/-jp-</code></a> - thanks for the contribution! He posted a comment with an alternative solution that uses combination of <code>Map.withDefault</code> method with a <a href="https://docs.groovy-lang.org/latest/html/documentation/core-operators.html#method-pointer-operator" target="_blank" rel="noopener">method pointer operator</a> that creates a closure from the <code>Map.get</code> method. It produces a slightly different solution than the one posted above. However, it&#8217;s very clever and creative way to use Groovy, so I want to share it with you as well. Here&#8217;s the original comment.</p></div><div class="quoteblock source-quote"><blockquote><div class="paragraph"><p>Depending on what semantics you want you can also use <code>withDefault</code>. This will create a view of <code>map1</code> that gets missing references from <code>map2</code>:</p></div><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code data-lang="groovy" class="language-groovy hljs">final map1 = [x: 1, y: 2]
final map2 = [z: 3]
final merged = map1.withDefault(map2.&amp;get)
println "$merged.x, $merged.y, $merged.z"</code></pre></div></div><div class="paragraph"><p><sub>Source:</sub> <sub><a href="https://www.reddit.com/r/groovy/comments/htx1d9/how_to_merge_two_maps_in_groovy/fyk4xdg/" target="_blank" rel="noopener" class="bare">https://www.reddit.com/r/groovy/comments/htx1d9/how_to_merge_two_maps_in_groovy/fyk4xdg/</a></sub></p></div></blockquote></div><div class="paragraph mt-5"><p>Share this blog post on <span class="icon color-twitter"><i class="fa fa-twitter"></i></span> <a href="https://twitter.com/intent/tweet?text=%22How%20to%20merge%20two%20maps%20in%20Groovy?%22%20https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/%20via%20@wololock" target="_blank" rel="noopener">Twitter</a> or <span class="icon color-linkedin"><i class="fa fa-linkedin-square"></i></span> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://e.printstacktrace.blog/how-to-merge-two-maps-in-groovy/&title=How%20to%20merge%20two%20maps%20in%20Groovy?" target="_blank" rel="noopener">LinkedIn</a> to help me spread the word. Thanks! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div><div class="newsletter-box my-4 my-md-5 py-md-5 py-4"><div class="container"><div class="row"><div class="col-12 offset-0 col-md-10 offset-md-1"><div class="row"><div class="col-12 col-md-3 mb-md-0 mb-5 text-center"><div class="shadow d-inline-flex img-fluid"><div class="img-lazyload-container" style="width:300px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center"><img data-original="/images/convertkit/home.jpg" height="424" width="300" style="padding-top:141.33333333333334%"></div></div></div><div class="col-12 col-md-9 pl-md-5 horizontal"><h4>Download "Seven Groovy <span class="mark">one-liners</span> you want to know" e-book</h4><p class="lead">Did you know that you can take a full screenshot of a website using one-line Groovy script? Or that you can convert a CSV file to the JSON one in just one line? <b>Subscribe</b> to my e-mail list and get those <b>two</b> and <b>five</b> more recipes from my latest ebook <b class="mark">for free</b>.</p><p class="nospam"><b>No spam</b> guaranteed. Weekly updates only. Unsubscribe at any time.</p><div class="convertkit"><div id="ck-73df1d6b65-box"></div><script>function load_newsletter(e){var t=document.getElementById("ck-73df1d6b65-box");if(document.contains(t)){var n=t.parentElement;t.remove();var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://tremendous-motivator-1432.ck.page/"+e+"/index.js",o.setAttribute("data-uid",e),n.appendChild(o),console.log("Convertkit "+e+" loaded.")}}window.addEventListener("scroll",function(e){var t=document.scrollingElement.scrollTop,n=document.getElementById("ck-73df1d6b65-box");document.contains(n)&&t>n.getBoundingClientRect().top- -500&&load_newsletter("73df1d6b65")})</script></div></div></div></div></div></div></div></div></div></div><div class="col-12 offset-0 col-md-10 offset-md-1"><div class="post-tags"><ul><li class="text"><em class="far fa-calendar-alt mr-1"></em>Published: Jul 17, 2020 in <a class="mark" href="/groovy-cookbook/">Groovy Cookbook</a></li></ul><ul class="mt-2"><li class="text"><em class="fas fa-tags"></em></li><li><a href="/t/groovy/">groovy</a></li><li><a href="/t/maps/">maps</a></li><li><a href="/t/merge/">merge</a></li><li><a href="/t/quick-tip/">quick-tip</a></li></ul></div></div></div></div><footer class="post-footer"><div class="container"><div class="row"><div class="col-12 offset-0 col-md-10 offset-md-1"><div class="about-author"><div class="row"><div class="col-md-2 col-6 offset-md-0 offset-3 text-center mt-4"><img class="rounded-circle img-fluid" src="https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200"></div><div class="col-md-10 col-12 text-md-left text-center mt-md-4 mt-1"><h4 class="text-md-left text-center"><a class="gatr" href="/about" data-type="post-footer" data-name="About">Szymon Stepniak</a></h4><p class="bio"><span>Groovista, Upwork's Top Rated freelancer, Toru≈Ñ Java User Group founder, open&nbsp;source contributor, Stack Overflow addict, bedroom guitar player. I walk through e.printStackTrace() so you don't have to.</span><span class="ml-2"><a href="/about">More about me &raquo;</a></span></p><ul class="social-links text-md-left text-center"><li><a class="gatr" href="https://twitter.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="twitter"><span class="fa fa-twitter"></span></a></li><li><a class="gatr" href="https://github.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="github"><span class="fa fa-github"></span></a></li><li><a class="gatr" href="https://stackoverflow.com/users/2194470/szymon-stepniak?tab=profile" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="stackoverflow"><span class="fa fa-stack-overflow"></span></a></li><li><a class="gatr" href="https://www.youtube.com/c/eprintstacktrace" target="_blank" rel="noopener" onclick="return window.open(this.href),!1" data-type="post-footer" data-name="youtube"><span class="fa fa-youtube"></span></a></li></ul></div></div></div></div></div></div></footer></article></main><section class="related-posts"><div class="container"><h3>Related posts</h3><div class="card-deck pt-2"><article class="card shadow-sm"><div class="card-header" style="background-image:url(/images/og/groovy-field-variable.jpg)"><div class="mask"></div><h3 class="h5 text-left font-weight-bold text-white"><div><a class="category">Groovy Cookbook</a></div><div class="title">Groovy script: closure does not modify @Field annotated variable</div></h3></div><div class="card-body"><section class="post-meta"><ul><li><time datetime="2017-10-08T07:39:12.000Z">Oct 8, 2017</time></li><li>4 min. read</li><li><a href="https://e.printstacktrace.blog/groovy-script-closure-does-not-modify-field-annotated-variable/#disqus_thread">0 Comments</a></li></ul></section><p class="card-text pt-3">Recently I have answered a few questions on Stack Overflow related to Groovy scripts and how they work in combination with closures and delegated objects. Some of use cases may not be intuitive and today I&#8217;m gonna show you one of them and explain what happens under the hood.</p></div><a class="stretched-link gatr" href="/groovy-script-closure-does-not-modify-field-annotated-variable/" data-type="related" data-name="Groovy script: closure does not modify @Field annotated variable"></a></article><article class="card shadow-sm"><div class="card-header" style="background-image:url(/images/og/ratpack-mocking-session.jpg)"><div class="mask"></div><h3 class="h5 text-left font-weight-bold text-white"><div><a class="category">Ratpack Cookbook</a></div><div class="title">Ratpack: mocking Session object in GroovyRequestFixture test</div></h3></div><div class="card-body"><section class="post-meta"><ul><li><time datetime="2018-06-24T09:59:57.000Z">Jun 24, 2018</time></li><li>2 min. read</li><li><a href="https://e.printstacktrace.blog/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/#disqus_thread">0 Comments</a></li></ul></section><p class="card-text pt-3">Ratpack allows you unit test handlers using GroovyRequestFixture class. The good thing about this approach is that it does not require running the whole application and you can quickly test if the handler does what you expect. However, if you retrieve objects from Raptack&#8217;s registry you w ...</p></div><a class="stretched-link gatr" href="/ratpack-mocking-Session-object-in-GroovyRequestFixture-test/" data-type="related" data-name="Ratpack: mocking Session object in GroovyRequestFixture test"></a></article><article class="card shadow-sm"><div class="card-header" style="background-image:url(/images/og/groovy-static-property-missing.jpg)"><div class="mask"></div><h3 class="h5 text-left font-weight-bold text-white"><div><a class="category">Groovy Cookbook</a></div><div class="title">Groovy: static propertyMissing and methodMissing methods - limitations and possible issues</div></h3></div><div class="card-body"><section class="post-meta"><ul><li><time datetime="2018-09-08T21:22:19.000Z">Sep 8, 2018</time></li><li>7 min. read</li><li><a href="https://e.printstacktrace.blog/groovy-static-propertymissing-and-methodmissing-methods-limitations-and-possible-issues/#disqus_thread">0 Comments</a></li></ul></section><p class="card-text pt-3">Some time ago I have found another interesting Groovy related question on Stack Overflow. This time someone was asking about static variants of popular propertyMissing and methodMissing methods. The official Groovy documentation does not explain how to do it - it only explains how to add any st ...</p></div><a class="stretched-link gatr" href="/groovy-static-propertymissing-and-methodmissing-methods-limitations-and-possible-issues/" data-type="related" data-name="Groovy: static propertyMissing and methodMissing methods - limitations and possible issues"></a></article></div></div><div class="mt-5 text-center"><div class="container"><a class="gatr" href="https://click.linksynergy.com/deeplink?id=uow2LCEuhvQ&amp;mid=39197&amp;murl=https%3A%2F%2Fwww.udemy.com%2Fcourse%2Fapache-groovy%2F" target="_blank" rel="noopener" data-type="banner" data-name="Udemy - Learn Groovy - How to merge two maps in Groovy?"><img class="img-fluid" src="/images/yml/udemy-learn-groovy-hz.jpg"></a></div></div><div class="col-12 text-center mt-5 serif"><h5 class="h3"><span class="small d-block mb-2">More posts from</span><span class="font-weight-bold mark">Groovy Cookbook</span></h5><div><em class="fas fa-angle-down"></em></div><a class="stretched-link" href="/groovy-cookbook/"></a></div></section><div class="container py-5"><div class="disqus-comments"><div class="alert alert-info small"><em class="fa fa-info-circle"></em> Want to paste code in the comment and make the formatting look good? Read this - <a href="https://help.disqus.com/en/articles/1717236-syntax-highlighting" target="_blank" rel="noopener"><b>Syntax highlighting</b></a>.</div><div class="comments"><div id="disqus_thread"><div id="disqus_empty" style="display:none">Empty</div></div></div></div><script>function load_disqus(e){var t=document.getElementById("disqus_empty");if(document.contains(t)){var d=document.getElementById("disqus_thread"),n=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&t&&(t.remove(),n.type="text/javascript",n.async=!0,n.src="//"+e+".disqus.com/embed.js",s.appendChild(n))}}window.addEventListener("scroll",function(e){document.scrollingElement.scrollTop>document.getElementById("disqus_thread").offsetTop-500&&load_disqus("eprintstacktrace")},!1)</script></div><footer class="page-footer"><section class="links"><div class="container"><div class="row"><div class="col-12 col-md-4"><h5 class="text-md-left text-center">Useful links</h5><ul class="text-md-left text-center mb-md-0 mb-5"><li><a class="gatr" href="/" data-type="footer-useful-links" data-name="Start here">Start here</a></li><li><a class="gatr" href="/about" data-type="footer-useful-links" data-name="About">About</a></li><li><a class="gatr" href="/archives" data-type="footer-useful-links" data-name="Archives">Archives</a></li><li><a class="gatr" href="/resources" data-type="footer-useful-links" data-name="Resources">Resources</a></li><li><a class="gatr" href="/privacy-policy" data-type="footer-useful-links" data-name="Privacy Policy">Privacy Policy</a></li><li><a class="gatr" href="https://kit.co/wololock" target="_blank" rel="noopener" data-type="footer-useful-links" data-name="My Kit">My Kit</a></li><li><a class="gatr" href="https://feeds.feedburner.com/Eprintstacktracenet" target="_blank" rel="noopener" data-type="footer-useful-links" data-name="RSS">RSS</a></li><li><a class="gatr" href="/support-me" data-type="footer-useful-links" data-name="Support me">Support the blog <em class="fas fa-heart color-red ml-2"></em></a></li></ul></div><div class="col-12 col-md-4"><h5 class="text-md-left text-center">Popular categories</h5><ul class="text-md-left text-center mb-md-0 mb-5"><li><a class="gatr" href="/groovy-cookbook/" data-type="footer-category" data-name="Groovy Cookbook">Groovy Cookbook<span class="count ml-2">27</span></a></li><li><a class="gatr" href="/jenkins-pipeline-cookbook/" data-type="footer-category" data-name="Jenkins Pipeline Cookbook">Jenkins Pipeline Cookbook<span class="count ml-2">7</span></a></li><li><a class="gatr" href="/programmers-bookshelf/" data-type="footer-category" data-name="Programmer's Bookshelf">Programmer's Bookshelf<span class="count ml-2">6</span></a></li><li><a class="gatr" href="/micronaut-cookbook/" data-type="footer-category" data-name="Micronaut Cookbook">Micronaut Cookbook<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/learning-java/" data-type="footer-category" data-name="Learning Java">Learning Java<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/ratpack-cookbook/" data-type="footer-category" data-name="Ratpack Cookbook">Ratpack Cookbook<span class="count ml-2">4</span></a></li><li><a class="gatr" href="/how-to/" data-type="footer-category" data-name="How to">How to<span class="count ml-2">3</span></a></li></ul></div><div class="col-12 col-md-4 text-center"><a class="gatr" href="https://amzn.to/2ZdC8ib" target="_blank" rel="noopener" data-type="banner" data-name="Audible Free Trial"><img class="img-fluid" src="/images/yml/audible-free-trial.jpg"></a></div></div></div></section><section class="bottom"><div class="container"><ul class="text-center py-2"><li class="d-inline-block mb-md-0 mb-2">Designed by <a class="gatr" href="https://twitter.com/wololock" target="_blank" rel="noopener" data-type="footer" data-name="designed">@wololock</a></li><li class="d-inline-block mb-md-0 mb-2">Created with <a class="gatr" href="https://hexo.io" target="_blank" rel="noopener" data-type="footer" data-name="hexo">Hexo</a></li><li class="d-inline-block mb-md-0 mb-2">Hosted on <a class="gatr" href="https://github.com/wololock/wololock.github.io" target="_blank" rel="noopener" data-type="footer" data-name="github">GitHub</a></li><li class="d-inline-block mb-md-0 mb-2">Deployed with <a class="gatr" href="https://circleci.com/gh/wololock/wololock.github.io" target="_blank" rel="noopener" data-type="footer" data-name="circleci">Circle CI</a></li><li class="d-inline-block mb-md-0 mb-2">License <a class="gatr" href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener" data-type="footer" data-name="license">CC BY-NC-SA 4.0</a></li><li class="d-inline-block mb-md-0 mb-2"><a class="gatr" href="https://github.com/wololock/wololock.github.io/commits/develop" target="_blank" rel="noopener" data-type="footer" data-name="last-commit"><img src="https://badgen.net/github/last-commit/wololock/wololock.github.io?color=blue&amp;scale=0.8"></a></li></ul></div></section></footer><script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script><script async src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script><script async src="https://kit.fontawesome.com/25fc8ffdd1.js" crossorigin="anonymous"></script><script async id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#ffad33" data-font-family="Lora,serif" data-font-size="15px" data-bg="#444"></script><script src="/js/highlight.pack.js?v=9.18.1"></script><script>hljs.initHighlightingOnLoad()</script><script async src="/js/main.js?v=6"></script><div id="amzn-assoc-ad-43b3fa6d-ffc7-44a2-84ce-6364ef258da9"><script async src="//z-na.amazon-adsystem.com/widgets/onejs?MarketPlace=US&amp;adInstanceId=43b3fa6d-ffc7-44a2-84ce-6364ef258da9"></script></div><script async id="dsq-count-scr" src="//eprintstacktrace.disqus.com/count.js"></script><script>!function(a,e,t,n,c,g,r){a.GoogleAnalyticsObject=c,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,g=e.createElement(t),r=e.getElementsByTagName(t)[0],g.async=1,g.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(g,r)}(window,document,"script",0,"ga"),ga("create","UA-42400890-5","auto"),ga("send","pageview"),jQuery("a.gatr").click(function(){var a=jQuery(this),e=a.attr("data-type"),t=a.attr("data-name");return ga("send","event",e,"click",t),!0})</script><script>!function(){"use strict";function r(e){var t=e.getAttribute("data-original"),n=new Image;n.onload=function(){e.setAttribute("src",t),e.style.paddingTop=""},n.src=t}document.addEventListener("DOMContentLoaded",function(){var t,e,n,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));i.length&&("undefined"!=typeof IntersectionObserver?(t=new IntersectionObserver(function(e,t){e.filter(function(e){return e.isIntersecting}).forEach(function(e){r(e.target),t.unobserve(e.target)})}),i.forEach(function(e){t.observe(e)})):(n=function(){clearTimeout(e),e=setTimeout(function(){return(i=i.filter(function(e){return!e.src})).length?void i.filter(function(e){e.getBoundingClientRect().top<window.innerHeight&&r(e)}):(window.removeEventListener("scroll",n),void window.removeEventListener("resize",n))},100)},window.addEventListener("scroll",n),window.addEventListener("resize",n),n()))},!1)}();</script></body></html>