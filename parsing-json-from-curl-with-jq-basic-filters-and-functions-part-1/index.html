<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="author" content="Szymon Stepniak"><meta name="robots" content="all"><title>Parsing JSON from curl with jq: basic filters and functions (part 1)</title><meta name="description" content="Have you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you. There is a better tool for that. And it&amp;#8217;s cal..."><meta name="keywords" content="devops,rest,http,curl,jq,json,linux"><link rel="shortcut icon" type="image/png" href="/favicon_new.png"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><link rel="dns-prefetch" href="//maxcdn.bootstrapcdn.com"><link rel="dns-prefetch" href="//disqus.com"><link rel="dns-prefetch" href="//c.disquscdn.com"><link rel="canonical" href="https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/"><link rel="alternate" type="application/rss+xml" title="e.printStackTrace(); // Blog" href="/atom.xml"><link rel="preload" as="style" onload='this.onload=null,this.rel="stylesheet"' href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"><noscript><link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"></noscript><link rel="preload" as="style" onload='this.onload=null,this.rel="stylesheet"' href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/androidstudio.min.css"><link rel="stylesheet" href="/css/main.css?v=48"><link rel="preload" as="style" onload='this.onload=null,this.rel="stylesheet"' href="/css/conum.css?v=48"><noscript><link rel="stylesheet" href="/css/conum.css?v=48"></noscript><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic&amp;display=swap"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro&amp;display=swap"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Droid+Sans+Mono:400,700&amp;display=swap"><meta name="description" content="Have you ever wondered, what is the most convenient way to parse JSON data in the Unix&#x2F;Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you."><meta property="og:type" content="article"><meta property="og:title" content="Parsing JSON from curl with jq: basic filters and functions (part 1)"><meta property="og:url" content="https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/"><meta property="og:site_name" content="e.printStackTrace(); &#x2F;&#x2F; Blog"><meta property="og:description" content="Have you ever wondered, what is the most convenient way to parse JSON data in the Unix&#x2F;Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you."><meta property="og:locale" content="en_US"><meta property="og:image" content="https://e.printstacktrace.blog/images/og/curl-jq.jpg"><meta property="article:published_time" content="2020-05-24T16:28:32.000Z"><meta property="article:modified_time" content="2020-05-24T16:28:32.000Z"><meta property="article:author" content="Szymon Stepniak"><meta property="article:tag" content="devops"><meta property="article:tag" content="rest"><meta property="article:tag" content="http"><meta property="article:tag" content="curl"><meta property="article:tag" content="jq"><meta property="article:tag" content="json"><meta property="article:tag" content="linux"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://e.printstacktrace.blog/images/og/curl-jq.jpg"><meta name="twitter:creator" content="@wololock"><script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/"},"headline":"Parsing JSON from curl with jq: basic filters and functions (part 1)","image":{"@type":"ImageObject","url":"https://e.printstacktrace.blog/images/og/curl-jq.jpg"},"datePublished":"2020-05-24T16:28:32.000Z","dateModified":"2020-05-24T16:28:32.000Z","author":{"@type":"Person","name":"Szymon Stepniak"},"publisher":{"@type":"Organization","name":"e.printStackTrace(); // Blog","logo":{"@type":"ImageObject","url":"https://e.printstacktrace.blog/images/site-logo.jpg","height":60,"width":600}},"description":"Have you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux command line? For instance, how to parse some information from the curl JSON response? Grep? No, thank you. There is a better tool for that. And it&#8217;s called jq.","keywords":"devops,rest,http,curl,jq,json,linux"}</script><meta name="generator" content="Hexo 4.2.1"><style>.img-lazyload-container{overflow:hidden;max-width:100%}.img-lazyload-container img{max-width:100%;display:block;height:auto;transition:opacity .5s ease-in-out}.img-lazyload-container img:not([src]){height:0;opacity:0}</style></head><body class="layout-post"><nav class="navbar navbar-default navbar-fixed-top navbar-custom"><div class="container-fluid"><div class="navbar-header"><button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#main-navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><span>e.printStackTrace(); // Blog</span></a></div><div class="collapse navbar-collapse" id="main-navbar"><ul class="nav navbar-nav navbar-right"><li><a href="/archives">Archive</a></li><li><a href="https://github.com/wololock/wololock.github.io" target="_blank" rel="noopener">GitHub</a></li><li><a href="/youtube">YouTube</a></li><li><a class="stack-overflow" href="https://stackoverflow.com/users/2194470/szymon-stepniak?tab=profile" target="_blank" rel="noopener"><img class="so-icon" src="/img/so.png"><b class="rep">27,343</b><span class="badges"><span class="gold"><span class="b">●</span><span class="c">9</span></span><span class="silver"><span class="b">●</span><span class="c">61</span></span><span class="bronze"><span class="b">●</span><span class="c">94</span></span></span></a></li></ul></div></div></nav><header class="header-section"><div class="intro-header" style="background-image:url(/images/jq-bg.jpg)"><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><div class="post-heading"><a class="category" href="/jq-cookbook/">jq cookbook</a><h1>Parsing JSON from curl with jq: basic filters and functions (part 1)</h1><div class="post-meta"><ul><li><time datetime="2020-05-24T16:28:32.000Z" itemprop="datePublished">May 24, 2020</time></li><li>12 minutes read</li><li><a href="https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/#disqus_thread">0 Comments</a></li></ul><section class="post-tags"><ul class="tags"><li><a class="tag post-meta" href="/t/devops/">devops</a></li><li><a class="tag post-meta" href="/t/rest/">rest</a></li><li><a class="tag post-meta" href="/t/http/">http</a></li><li><a class="tag post-meta" href="/t/curl/">curl</a></li><li><a class="tag post-meta" href="/t/jq/">jq</a></li><li><a class="tag post-meta" href="/t/json/">json</a></li><li><a class="tag post-meta" href="/t/linux/">linux</a></li></ul></section></div></div></div></div></div></div></header><div class="container"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-md-10 col-md-offset-1"><article class="blog-post" role="main"><div class="paragraph"><p>Have you ever wondered, what is the most convenient way to parse JSON data in the Unix/Linux command line? For instance, how to parse some information from the <code>curl</code> JSON response? Grep? No, thank you. There is a better tool for that. And it&#8217;s called <code>jq</code>.</p></div><a id="more"></a><div class="paragraph"><p>Welcome to the first episode of the <strong>jq cookbook</strong> series! The first episode is not about theory - we jump to the first exercise in just a second. I strongly encourage you to <a href="https://stedolan.github.io/jq/download/" target="_blank" rel="noopener">install <code>jq</code> command-line tool</a> in your operating system and follow me. There are some exciting things to learn today, and we are starting right now!</p></div><div id="toc" class="toc"><div id="toctitle" class="title">Table of Contents</div><ul class="sectlevel1"><li><a href="#introduction">Introduction</a></li><li><a href="#invoking-jq">Invoking <code>jq</code></a></li><li><a href="#processing-input-from-command-other-than-curl">Processing input from command other than <code>curl</code></a></li><li><a href="#extracting-fields-from-the-array">Extracting fields from the array</a></li><li><a href="#filtering-null-values-with-selectexpr-filter">Filtering <code>null</code> values with <code>select(expr)</code> filter</a></li><li><a href="#sorting-by-field-with-sort_byexpr-filter">Sorting by field with <code>sort_by(expr)</code> filter</a></li><li><a href="#limiting-the-size-of-the-result-with-limitnexpr-filter">Limiting the size of the result with <code>limit(n;expr)</code> filter</a></li><li><a href="#grouping-by-using-group_byexpr-filter">Grouping by using <code>group_by(expr)</code> filter</a></li><li><a href="#putting-it-all-together">Putting it all together</a></li></ul></div><div class="sect1"><h2 id="introduction">Introduction</h2><div class="sectionbody"><div class="paragraph"><p>In this blog post, I will use <a href="https://openlibrary.org/dev/docs/api/search" target="_blank" rel="noopener">openlibrary.org public Search API</a>. The reason for that is simple - it returns quite complex and interesting data we can process, and it still mimics a real-life example. I want to use this API to run a full-text search query. I&#8217;m going to use my last name as a search term - it is not a very popular Polish last name, so there shouldn&#8217;t be many results associated with it.</p></div><div class="listingblock"><div class="title">Listing 1. An example of openlibrary.org full-text search query</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ curl -s "http://openlibrary.org/search.json?q=st%C4%99pniak"
{
 "start": 0,
 "num_found": 44,
 "numFound": 44,
 "docs": [
    ...
  ]
}</code></pre></div></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">My last name contains Polish letter <code>ę</code>, which gets encoded as <code>%C4%99</code>.</td></tr></table></div></div></div><div class="sect1"><h2 id="invoking-jq">Invoking <code>jq</code></h2><div class="sectionbody"><div class="paragraph"><p>Once we have the JSON document to process, it&#8217;s time to invoke <code>jq</code> processor. The simplest way to do it is to pipe the output from the <code>curl</code> command to the <code>jq</code> input.</p></div><div class="listingblock"><div class="title">Listing 2. Pipe from <code>curl</code> to <code>jq</code> example.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ curl -s "http://openlibrary.org/search.json?q=st%C4%99pniak" | jq .</code></pre></div></div><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">The <code>.</code> in the <code>jq</code> filter means <strong>identity</strong>.</td></tr></table></div><div class="paragraph"><p>This simple pipe doesn&#8217;t do much, and <code>jq</code> just prints the JSON "as is." However, there is one difference when compared with the plain <code>curl</code> response. <code>jq</code> by default prints JSON document using "pretty" format, and it adds some basic colors.</p></div><div class="openblock text-center"><div class="content"><div class="imageblock img-responsive img-thumbnail"><div class="content"><a class="image" href="/images/curl-jq-basic-example.jpg"><div class="img-lazyload-container" style="width:1280px;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==);background-repeat:no-repeat;background-position:center"><img data-original="/images/curl-jq-basic-example.jpg" height="351" width="1280" style="padding-top:27.421875%"></div></a></div><div class="title">Figure 1. Plain <code>curl</code> output on the left side. The simplest <code>jq .</code> output on the right side.</div></div></div></div></div></div><div class="sect1"><h2 id="processing-input-from-command-other-than-curl">Processing input from command other than <code>curl</code></h2><div class="sectionbody"><div class="paragraph"><p>Using pipes comes with huge benefits - it doesn&#8217;t matter what command produces the input. It means that we can forward the <code>curl</code> command output to a file, and then use this file to produce input for the <code>jq</code> processor. This might be very useful when we do experiments, and we don&#8217;t want to download the same JSON document over and over again.</p></div><div class="listingblock"><div class="title">Listing 3. Forwarding <code>curl</code> output to the openlibrary.json file</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ curl -s "http://openlibrary.org/search.json?q=st%C4%99pniak" &gt; openlibrary.json</code></pre></div></div><div class="paragraph"><p>Once we captured the input, we can e.g., pipe commands <code>cat</code> and <code>jq</code> to produce the same result, but this time without involving the call over the network.</p></div><div class="listingblock"><div class="title">Listing 4. Pipe from <code>cat</code> to <code>jq</code> example.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq .</code></pre></div></div><div class="paragraph"><p>You will notice the difference. Processing JSON from the local file completes in a blink of an eye. <span class="icon"><i class="fa fa-smile-o"></i></span></p></div></div></div><div class="sect1"><h2 id="extracting-fields-from-the-array">Extracting fields from the array</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s start processing the data with some real filters. The document we took from the openlibrary.org Search API has a list under the <code>docs</code> key. This list contains all documents matching the search term. Every document is described using multiple fields, but we are interested in the <code>title</code>, <code>author_name</code>, and <code>publish_year</code> only.</p></div><div class="paragraph"><p>The first filter we want to use is called <strong>array/object value iterator <code>.[]</code></strong>. This filter extracts values from the given array (or object), so the next filter in the pipeline gets applied to each element. In our case, we want to apply <code>.docs[]</code> filter to extract documents.</p></div><div class="listingblock"><div class="title">Listing 5. Applying array value iterator on the <code>docs</code> key.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '.docs[]'
{
  "title_suggest": "Słownik tajemnych gwar przestępczych",
  "edition_key": [
    "OL1174034M"
  ],
  "isbn": [
    "9781859170069",
    "1859170064"
  ],
  ....</code></pre></div></div><div class="paragraph"><p>The next step is to extract only specific fields. <code>jq</code> filters support piping to apply new filters on top of the results from the previous ones. It uses the same <code>|</code> symbol, but pay attention to one significant difference - piping filters happens inside the <code>jq</code> argument string.</p></div><div class="listingblock"><div class="title">Listing 6. Piping <code>jq</code> filters to extract specific fields.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '.docs[] | {title,author_name,publish_year}'
{
  "title": "Słownik tajemnych gwar przestępczych",
  "author_name": [
    "Klemens Stępniak"
  ],
  "publish_year": [
    1993
  ]
}
{
  "title": "EU adjustment to eastern enlargement",
  "author_name": null,
  "publish_year": [
    1998
  ]
}
...</code></pre></div></div><div class="paragraph"><p>Looks good. Every document got extracted to the new one, containing only three fields. However, <code>author_name</code> and <code>publish_year</code> seem to be arrays. We can update the filter to extract the first value from those arrays and store them as scalar values instead.</p></div><div class="listingblock"><div class="title">Listing 7. Transforming arrays to scalar values example.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]}'
{
  "title": "Słownik tajemnych gwar przestępczych",
  "author_name": "Klemens Stępniak",
  "publish_year": 1993
}
{
  "title": "EU adjustment to eastern enlargement",
  "author_name": null,
  "publish_year": 1998
}
...</code></pre></div></div><div class="paragraph"><p>I guess you already noticed that we can transform objects either by just referring to the field name (e.g. <code>title</code>) or by constructing the new field explicitly (e.g. <code>author_name: .author_name[0]</code>.)</p></div></div></div><div class="sect1"><h2 id="filtering-null-values-with-selectexpr-filter">Filtering <code>null</code> values with <code>select(expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>When I looked at the response, I noticed that some documents were missing either <code>author_name</code> or <code>publish_year</code>. We can exclude such documents from the final result using the <code>select(expr)</code> filter.</p></div><div class="listingblock"><div class="title">Listing 8. Filtering objects containing <code>null</code> values.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)'
{
  "title": "Słownik tajemnych gwar przestępczych",
  "author_name": "Klemens Stępniak",
  "publish_year": 1993
}
{
  "title": "Integracja regionalna i transfer kapitału",
  "author_name": "Andrzej Stępniak",
  "publish_year": 1996
}
...</code></pre></div></div></div></div><div class="sect1"><h2 id="sorting-by-field-with-sort_byexpr-filter">Sorting by field with <code>sort_by(expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>Now let&#8217;s say we want to get the result in a specific order. What if we want to sort the final result by <code>publish_year</code>? <code>jq</code> offer the <code>sort_by(expr)</code> filter, but before we apply it, we need to make one modification. The <code>sort_by(expr)</code> filter works on arrays, and our current output is not an array. If you look closely, you will see that this is just a set of JSON documents printed one after another. We can transform it into a JSON array by wrapping our current long filter with square brackets - an array constructor.</p></div><div class="paragraph"><p>Compare the following example with the previous one and spot the difference.</p></div><div class="listingblock"><div class="title">Listing 9. Transforming set of JSON objects into a JSON array of objects using <code>[]</code> constructor.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)]'
[
  {
    "title": "Słownik tajemnych gwar przestępczych",
    "author_name": "Klemens Stępniak",
    "publish_year": 1993
  },
  {
    "title": "Integracja regionalna i transfer kapitału",
    "author_name": "Andrzej Stępniak",
    "publish_year": 1996
  },
  ...
]</code></pre></div></div><div class="paragraph"><p>Once we have a JSON array constructed, we can pipe <code>sort_by(.publish_year)</code> into our filter.</p></div><div class="listingblock"><div class="title">Listing 10. Sorting a JSON array of objects by specific field using <code>sort_by(expr)</code>.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year)'
[
  {
    "title": "Rada Portu i Dróg Wodnych w Wolnym Mieście Gdańsku.  Gdańsku",
    "author_name": "Henryk Stępniak",
    "publish_year": 1971
  },
  {
    "title": "Potrącenie w systemie polskiego prawa cywilnego",
    "author_name": "Lechosław Stępniak",
    "publish_year": 1975
  },
  {
    "title": "Uzdatnianie złomu poprodukcyjnego",
    "author_name": "Stanisław Stępniak",
    "publish_year": 1978
  },
  ...
]</code></pre></div></div><div class="paragraph"><p>By default, <code>sort_by(expr)</code> sorts objects in the ascending order. To sort objects in the descending order, we can pipe <code>reverse</code> filter after the <code>sort_by(expr)</code> one.</p></div><div class="listingblock"><div class="title">Listing 11. Sorting in the descending order.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year) | reverse'
[
  {
    "title": "Dziedzictwo archiwalne we współpracy Polski i Ukrainy",
    "author_name": "Władysław Stępniak",
    "publish_year": 2010
  },
  {
    "title": "Misja Służby Więziennej a jej zadania wobec aktualnej polityki karnej i oczekiwań społecznych",
    "author_name": "Polski Kongres Penitencjarny (4th 2008 Poznań, Poland)",
    "publish_year": 2008
  },
  {
    "title": "Czarny Bór",
    "author_name": "Władysław Stępniak",
    "publish_year": 2007
  },
  ...
]</code></pre></div></div></div></div><div class="sect1"><h2 id="limiting-the-size-of-the-result-with-limitnexpr-filter">Limiting the size of the result with <code>limit(n;expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>As the next step, we may want to limit the size of the result. Let&#8217;s say we want to get the newest three publications as a result. We can use <code>limit(n;expr)</code> filter, but we need to be aware of one thing. To limit the size of an array using this filter, we need to use an expression that extracts values from an array for iteration - <code>.[]</code>. Once <code>limit(n;expr)</code> limits the number of objects, it produces the output in the same format. It means that we don&#8217;t get an array but rather a set of separate results instead.</p></div><div class="listingblock"><div class="title">Listing 12. Applying <code>limit(3;.[])</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year)| reverse | limit(3;.[])'
{
  "title": "Dziedzictwo archiwalne we współpracy Polski i Ukrainy",
  "author_name": "Władysław Stępniak",
  "publish_year": 2010
}
{
  "title": "Misja Służby Więziennej a jej zadania wobec aktualnej polityki karnej i oczekiwań społecznych",
  "author_name": "Polski Kongres Penitencjarny (4th 2008 Poznań, Poland)",
  "publish_year": 2008
}
{
  "title": "Czarny Bór",
  "author_name": "Władysław Stępniak",
  "publish_year": 2007
}</code></pre></div></div><div class="paragraph"><p>If we want to represent the result as a JSON array, we need to wrap <code>limit(n;expr)</code> filter with <code>[]</code> to construct an array again.</p></div><div class="listingblock"><div class="title">Listing 13. Final JSON array of the three latest documents.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | sort_by(.publish_year)| reverse | [limit(3;.[])]'
[
  {
    "title": "Dziedzictwo archiwalne we współpracy Polski i Ukrainy",
    "author_name": "Władysław Stępniak",
    "publish_year": 2010
  },
  {
    "title": "Misja Służby Więziennej a jej zadania wobec aktualnej polityki karnej i oczekiwań społecznych",
    "author_name": "Polski Kongres Penitencjarny (4th 2008 Poznań, Poland)",
    "publish_year": 2008
  },
  {
    "title": "Czarny Bór",
    "author_name": "Władysław Stępniak",
    "publish_year": 2007
  }
]</code></pre></div></div></div></div><div class="sect1"><h2 id="grouping-by-using-group_byexpr-filter">Grouping by using <code>group_by(expr)</code> filter</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s say we want to find out how many publications each author created. <code>jq</code> offers built-in <code>group_by(expr)</code> filter we can use. In our case, we will use <code>group_by(.author_name)</code> to group all publications by their authors.</p></div><div class="listingblock"><div class="title">Listing 14. Grouping results using <code>group_by(.author_name)</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)'
[
  [
    {
      "title": "Integracja regionalna i transfer kapitału",
      "author_name": "Andrzej Stępniak",
      "publish_year": 1996
    },
    {
      "title": "Promocja polskich podmiotów inwestycyjnych na obszarze Wspólnot Europejskich",
      "author_name": "Andrzej Stępniak",
      "publish_year": 1993
    },
    {
      "title": "Kwestia narodowa a społeczna na Śląsku Cieszyńskim pod koniec XIX i w początkach XX wieku, do 1920 roku",
      "author_name": "Andrzej Stępniak",
      "publish_year": 1986
    },
    {
      "title": "Polska-WE",
      "author_name": "Andrzej Stępniak",
      "publish_year": 1993
    }
  ],
  [
    {
      "title": "Kula jako symbol vanitas",
      "author_name": "Beata Purc-Stępniak",
      "publish_year": 2004
    }
  ],
  ....
]</code></pre></div></div><div class="paragraph"><p>As you can see now, <code>group_by(.author_name)</code> produced an array of arrays. It&#8217;s hard to say how many publications each author did from this document, so we might need to transform this output a bit.</p></div><div class="paragraph"><p>The next filter we need to apply is <code>.[]</code> to start iterating over the grouped arrays. We will pipe this iteration with a transformation that extracts <code>author_name</code> field from the first result using <code>{author_name: .[0].author_name}</code> filter. And as we seen before, <code>.[] | {author_name: .[0].author_name}</code> combination produces a set of results, so we need to wrap it with <code>[]</code> to construct an array.</p></div><div class="listingblock"><div class="title">Listing 15. Extracting <code>author_name</code> from the grouped result.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)| [.[] | {author_name: .[0].author_name}]'
[
  {
    "author_name": "Andrzej Stępniak"
  },
  {
    "author_name": "Beata Purc-Stępniak"
  },
  {
    "author_name": "Colloquia Jerzy Skowronek dedicata (10th 2004 Warsaw, Poland)"
  },
  ....
]</code></pre></div></div><div class="paragraph"><p>That&#8217;s a good step forward - now we have author names extracted from the grouped result. The next step is to update the transformation filter to also produce the <code>count</code> field - a field containing the number of publications. There is a simple way to do it. The current transformation filter, <code>[.[] | {author_name: .[0].author_name}]</code>, iterates the nested arrays that contain all documents associated with the same author. It means that <code>.</code> (identity) in this filter refers to a list of objects, and that is why we extract the author name using <code>.[0].author_name</code> expression, which means: take the first object from the array and return its <code>author_name</code> value. We can use this array to count its size. In the <code>jq</code>, we have a filter called <code>length</code> that can be piped with an array to return its size. So in our case, an expression <code>. | lenght</code> used in the context of this transformation will return the size of an array, which represents the number of publications.</p></div><div class="listingblock"><div class="title">Listing 16. Extracting the number of publications using <code>length</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)| [.[] | {author_name: .[0].author_name, count: . | length}]'
[
  {
    "author_name": "Andrzej Stępniak",
    "count": 4
  },
  {
    "author_name": "Beata Purc-Stępniak",
    "count": 1
  },
  {
    "author_name": "Colloquia Jerzy Skowronek dedicata (10th 2004 Warsaw, Poland)",
    "count": 1
  },
  ....
]</code></pre></div></div><div class="paragraph"><p>Voila! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div></div></div><div class="sect1"><h2 id="putting-it-all-together">Putting it all together</h2><div class="sectionbody"><div class="paragraph"><p>Let&#8217;s finish this experiment by putting all commands we have learned today together. We can add <code>sort_by(expr)</code> and <code>limit(n;expr)</code> to the latest query to produce the final result - an array of three authors that published the most documents.</p></div><div class="listingblock"><div class="title">Listing 17. Extracting the number of publications using <code>length</code> filter.</div><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ cat openlibrary.json | jq '[.docs[] | {title,author_name: .author_name[0], publish_year: .publish_year[0]} | select(.author_name!=null and .publish_year!=null)] | group_by(.author_name)| [.[] | {author_name: .[0].author_name, count: . | length}] | sort_by(.count) | reverse | [limit(3;.[])]'
[
  {
    "author_name": "Władysław Stępniak",
    "count": 11
  },
  {
    "author_name": "Andrzej Stępniak",
    "count": 4
  },
  {
    "author_name": "Henryk Stępniak",
    "count": 3
  }
]</code></pre></div></div><div class="paragraph"><p>And that&#8217;s it for today. In the next episode, we will dive deeper into more advanced filters and functions that <code>jq</code> offers. Stay tuned! <span class="icon"><i class="fa fa-smile-o"></i></span></p></div><div class="row"><div class="col-12"><div id="newsletter-01"></div><script>function load_newsletter(e){var t=document.getElementById("newsletter-01");if(document.contains(t)){var n=t.parentElement;t.remove();var o=document.createElement("script");o.type="text/javascript",o.async=!0,o.src="https://tremendous-motivator-1432.ck.page/"+e+"/index.js",o.setAttribute("data-uid",e),n.appendChild(o)}}window.addEventListener("scroll",function(e){var t=document.scrollingElement.scrollTop,n=document.getElementById("newsletter-01");document.contains(n)&&t>n.offsetTop-500&&load_newsletter("5e86560171")})</script></div></div><h2 id="thank-you" class="discrete">Thank you!</h2><div class="paragraph"><p>If you read up to this point - leave me a comment below, so I can <strong>thank you</strong> in person for such an engagement. You can also share this blog post on <span class="icon color-twitter"><i class="fa fa-twitter"></i></span> <a href="https://twitter.com/intent/tweet?text=%22Parsing%20JSON%20from%20curl%20with%20jq:%20basic%20filters%20and%20functions%20(part%201)%22%20https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/%20via%20@wololock" target="_blank" rel="noopener">Twitter</a>, <span class="icon color-facebook"><i class="fa fa-facebook-square"></i></span> <a href="https://www.facebook.com/sharer/sharer.php?u=https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/&t=Parsing%20JSON%20from%20curl%20with%20jq:%20basic%20filters%20and%20functions%20(part%201)" target="_blank" rel="noopener">Facebook</a>, or <span class="icon color-linkedin"><i class="fa fa-linkedin-square"></i></span> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://e.printstacktrace.blog/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/&title=Parsing%20JSON%20from%20curl%20with%20jq:%20basic%20filters%20and%20functions%20(part%201)" target="_blank" rel="noopener">LinkedIn</a> if you think other people can benefit from reading it. Thanks in advance!</p></div><div class="paragraph"><p>PS: Creating high-quality content takes a lot of time and effort. I want to deliver the best possible value to my readers and keep the blog always <strong>ad-free</strong>. If you have two more minutes, please take a look at this dedicated page where I listed a few different options to <a href="https://e.printstacktrace.blog/support-me" class="ga-track">support my efforts</a>. If my vision for the <em>e.printstacktrace.blog</em> development resonates with you, I will be grateful if you consider supporting me in this journey. <strong>Thank you! <span class="icon color-red"><i class="fa fa-heart"></i></span></strong></p></div></div></div><footer class="post-footer"><img class="img-responsive img-circle" src="https://www.gravatar.com/avatar/b22c1842c6e8f7f2b9b3ed8c0d4efb4d?s=200"><div class="row author"><div class="col-lg-8 col-lg-offset-2 col-xs-10 col-xs-offset-1"><h4>Szymon Stepniak</h4><p><a class="stack-overflow" href="https://stackoverflow.com/users/2194470/szymon-stepniak?tab=profile" target="_blank" rel="noopener"><img class="so-icon" src="/img/so.png"><b class="rep">27,343</b><span class="badges"><span class="gold"><span class="b">●</span><span class="c">9</span></span><span class="silver"><span class="b">●</span><span class="c">61</span></span><span class="bronze"><span class="b">●</span><span class="c">94</span></span></span></a></p><p>Groovista, Upwork's Top Rated freelancer, Toruń Java User Group founder, open&nbsp;source contributor, Stack Overflow addict, bedroom guitar player. I walk through e.printStackTrace() so you don't have to.</p><ul class="social-links"><li><a href="https://feeds.feedburner.com/Eprintstacktracenet" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-rss"></span></a></li><li><a href="https://twitter.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-twitter"></span></a></li><li><a href="https://github.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-github"></span></a></li><li><a href="https://stackoverflow.com/users/2194470/szymon-stepniak?tab=profile" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-stack-overflow"></span></a></li><li><a href="https://www.youtube.com/c/eprintstacktrace" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-youtube"></span></a></li><li><a href="mailto:szymon.stepniak@gmail.com" onclick="return window.open(this.href),!1"><span class="fa fa-envelope"></span></a></li><li><a href="https://www.linkedin.com/in/szymon-stępniak-9a0b1630" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-linkedin"></span></a></li><li><a href="https://keybase.io/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-user-secret"></span></a></li></ul></div></div></footer><section class="related-posts"><h2>You may also like</h2><div class="row"><div class="col-lg-4"><a href="/using-the-same-prefix-with-different-http-methods-in-ratpack/"><img class="img-responsive" src="/images/og/ratpack-prefix-http-methods.jpg"><h3>Using the same prefix with different HTTP methods in Ratpack</h3></a><p>Ratpack is an excellent tool for building RESTful[1] applications. However, to benefit most of it, we need to know the tool a little bit better. It applies to Ratpack handler&#8217;s mechanism - it...</p></div><div class="col-lg-4"><a href="/release-it-2nd-edition-book-review/"><img class="img-responsive" src="/images/og/release-it.jpg"><h3>Release It! 2nd edition - book review</h3></a><p>We are software developers. Our daily duty is to write programs. We spend a lot of time and effort into doing the right things and doing them right. At some point, the production launch day comes a...</p></div><div class="col-lg-4"><a href="/how-to-time-out-jenkins-pipeline-stage-and-keep-the-pipeline-running/"><img class="img-responsive" src="/images/og/pipeline-timeout-stage.jpg"><h3>How to time out Jenkins Pipeline stage and keep the pipeline running?</h3></a><p>The declarative Jenkins Pipeline allows us to define timeout either at the pipeline level or the specific stage. This feature prevents Jenkins&#8217;s job from getting stuck. However, in some cases...</p></div></div></section></article><nav class="pagination" role="pagination"><a class="pull-right btn" href="/how-to-time-out-jenkins-pipeline-stage-and-keep-the-pipeline-running/">Previous post →</a></nav><div class="disqus-comments"><div class="comments"><div id="disqus_thread"><div id="disqus_empty" style="display:none">Empty</div></div></div></div><script>function load_disqus(e){var t=document.getElementById("disqus_empty");if(document.contains(t)){var d=document.getElementById("disqus_thread"),n=document.createElement("script"),s=document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0];d&&t&&(t.remove(),n.type="text/javascript",n.async=!0,n.src="//"+e+".disqus.com/embed.js",s.appendChild(n))}}window.addEventListener("scroll",function(e){document.scrollingElement.scrollTop>document.getElementById("disqus_thread").offsetTop-500&&load_disqus("eprintstacktrace")},!1)</script></div></div></div><script async id="dsq-count-scr" src="//eprintstacktrace.disqus.com/count.js"></script><footer class="site-footer"><div class="container-fluid"><div class="row"><div class="col-lg-10 col-lg-offset-1 col-xs-10 col-xs-offset-1"><div class="row"><div class="col-lg-4"><h4 class="marked">Recent video on YouTube</h4><section class="recent-posts"><a href="https://www.youtube.com/watch?v=vJgcsyLJf0g" target="_blank" rel="noopener"><img class="img-thumbnail img-noborder" src="https://i3.ytimg.com/vi/vJgcsyLJf0g/mqdefault.jpg" alt="Brainf**k interpreter in Groovy (tail recursive implementation) | #groovylang"></a></section><h4>e.printstacktrace.blog © 2020</h4><p><em>"I walk through e.printStackTrace() so you don't have to"</em></p></div><div class="col-lg-4"><h4 class="marked">Recent articles</h4><section class="recent-posts"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/parsing-json-from-curl-with-jq-basic-filters-and-functions-part-1/">Parsing JSON from curl with jq: basic filters and functions (part 1)</a></li><li class="post-list-item"><a class="post-list-link" href="/how-to-time-out-jenkins-pipeline-stage-and-keep-the-pipeline-running/">How to time out Jenkins Pipeline stage and keep the pipeline running?</a></li><li class="post-list-item"><a class="post-list-link" href="/my-first-200-youtube-subscribers-thank-you/">My first 200 YouTube subscribers - Thank You!</a></li><li class="post-list-item"><a class="post-list-link" href="/groovy-dynamic-maps-generic-type-erasure-and-raw-types/">Groovy dynamic Maps, generic type erasure, and raw types - an interesting use case to learn from</a></li><li class="post-list-item"><a class="post-list-link" href="/groovy-3-nullcheck-annotation-less-code-and-less-npe/">Groovy 3 @NullCheck annotation - less code and less NPE</a></li><li class="post-list-item"><a class="post-list-link" href="/groovy-3-string-gdk-improvements-takeright-takebetween-and-a-few-others/">Groovy 3 String GDK improvements - takeRight, takeBetween, and a few others</a></li></ul></section></div><div class="col-lg-4"><h4 class="marked">Stay connected</h4><div class="social-links"><ul><li><a href="https://feeds.feedburner.com/Eprintstacktracenet" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-rss"></span></a></li><li><a href="https://twitter.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-twitter"></span></a></li><li><a href="https://github.com/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-github"></span></a></li><li><a href="https://stackoverflow.com/users/2194470/szymon-stepniak?tab=profile" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-stack-overflow"></span></a></li><li><a href="https://www.youtube.com/c/eprintstacktrace" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-youtube"></span></a></li><li><a href="mailto:szymon.stepniak@gmail.com" onclick="return window.open(this.href),!1"><span class="fa fa-envelope"></span></a></li><li><a href="https://www.linkedin.com/in/szymon-stępniak-9a0b1630" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-linkedin"></span></a></li><li><a href="https://keybase.io/wololock" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><span class="fa fa-user-secret"></span></a></li></ul></div><h4 class="marked">Most popular tags</h4><section class="tagcloud"><a href="/t/affiliate/" style="font-size:12pt;color:#777">affiliate</a> <a href="/t/async/" style="font-size:8pt;color:#6a6a6a">async</a> <a href="/t/benchmark/" style="font-size:12pt;color:#777">benchmark</a> <a href="/t/book/" style="font-size:16pt;color:#858585">book</a> <a href="/t/cicd/" style="font-size:24pt;color:#9f9f9f">cicd</a> <a href="/t/devops/" style="font-size:16pt;color:#858585">devops</a> <a href="/t/docker/" style="font-size:12pt;color:#777">docker</a> <a href="/t/github/" style="font-size:8pt;color:#6a6a6a">github</a> <a href="/t/graalvm/" style="font-size:24pt;color:#9f9f9f">graalvm</a> <a href="/t/groovy/" style="font-size:32pt;color:#bababa">groovy</a> <a href="/t/java/" style="font-size:28pt;color:#adadad">java</a> <a href="/t/jenkins/" style="font-size:20pt;color:#929292">jenkins</a> <a href="/t/jenkins-pipeline/" style="font-size:20pt;color:#929292">jenkins-pipeline</a> <a href="/t/jmh/" style="font-size:16pt;color:#858585">jmh</a> <a href="/t/junit/" style="font-size:8pt;color:#6a6a6a">junit</a> <a href="/t/micronaut/" style="font-size:12pt;color:#777">micronaut</a> <a href="/t/native-image/" style="font-size:12pt;color:#777">native-image</a> <a href="/t/non-blocking/" style="font-size:12pt;color:#777">non-blocking</a> <a href="/t/ratpack/" style="font-size:24pt;color:#9f9f9f">ratpack</a> <a href="/t/review/" style="font-size:16pt;color:#858585">review</a> <a href="/t/rxjava/" style="font-size:8pt;color:#6a6a6a">rxjava</a> <a href="/t/sdkman/" style="font-size:12pt;color:#777">sdkman</a> <a href="/t/spock/" style="font-size:12pt;color:#777">spock</a> <a href="/t/string/" style="font-size:8pt;color:#6a6a6a">string</a> <a href="/t/unit-test/" style="font-size:12pt;color:#777">unit-test</a></section></div></div></div></div><div class="row"><div class="col-lg-10 col-lg-offset-1 col-xs-10 col-xs-offset-1 text-center"><ul class="footer-links"><li><a href="/privacy-policy/">Privacy policy</a></li><li><a href="/support-me/">Support me</a></li><li><a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener"><img src="https://badgen.net/badge/license/CC%20BY-NC-SA%204.0/gray"></a></li><li><a href="https://github.com/wololock/wololock.github.io/commits/develop" target="_blank" rel="noopener"><img src="https://badgen.net/github/last-commit/wololock/wololock.github.io?color=blue"></a></li></ul></div></div></div><section class="poweredby"><ul class="text-center"><li><span>Published with </span><a href="https://hexo.io" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><img src="/img/logo-hexo.png"></a></li><li><span>Hosted on </span><a href="https://github.com/wololock/wololock.github.io" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><img src="/img/logo-github.png"></a></li><li><span>Deployed with </span><a href="https://circleci.com/gh/wololock/wololock.github.io" target="_blank" rel="noopener" onclick="return window.open(this.href),!1"><img src="/img/logo-circleci.png"></a></li></ul></section></footer><script src="//cdnjs.cloudflare.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script><script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script><script async id="cookiebanner" src="//cdnjs.cloudflare.com/ajax/libs/cookie-banner/1.2.2/cookiebanner.min.js" data-moreinfo="/privacy-policy/" data-message="This blog uses cookies to enhance your experience. By continuing to visit it you agree to its use of cookies." data-link="#ffad33" data-font-family="Lora,serif" data-font-size="1.6rem" data-bg="#444"></script><script src="/js/main.js?v=5"></script><script src="/js/highlight.pack.js?v=9.18.1"></script><script>hljs.initHighlightingOnLoad()</script><script>"localhost"!==window.location.hostname&&"127.0.0.1"!==window.location.hostname&&(!function(a,e,t,n,o,c,i){a.GoogleAnalyticsObject=o,a.ga=a.ga||function(){(a.ga.q=a.ga.q||[]).push(arguments)},a.ga.l=1*new Date,c=e.createElement(t),i=e.getElementsByTagName(t)[0],c.async=1,c.src="//www.google-analytics.com/analytics.js",i.parentNode.insertBefore(c,i)}(window,document,"script",0,"ga"),ga("create","UA-42400890-5","auto"),ga("send","pageview"),jQuery("a.ga-track").click(function(a){var e=jQuery(a.target).text();return ga("send","event","affiliate","click",e),!0}))</script><script>!function(){"use strict";function r(e){var t=e.getAttribute("data-original"),n=new Image;n.onload=function(){e.setAttribute("src",t),e.style.paddingTop=""},n.src=t}document.addEventListener("DOMContentLoaded",function(){var t,e,n,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));i.length&&("undefined"!=typeof IntersectionObserver?(t=new IntersectionObserver(function(e,t){e.filter(function(e){return e.isIntersecting}).forEach(function(e){r(e.target),t.unobserve(e.target)})}),i.forEach(function(e){t.observe(e)})):(n=function(){clearTimeout(e),e=setTimeout(function(){if(!(i=i.filter(function(e){return!e.src})).length)return window.removeEventListener("scroll",n),void window.removeEventListener("resize",n);i.filter(function(e){e.getBoundingClientRect().top<window.innerHeight&&r(e)})},100)},window.addEventListener("scroll",n),window.addEventListener("resize",n),n()))},!1)}();</script></body></html>