if theme.comment.enable && !page.comment_disable
    if theme.comment.enable === "disqus"
        .container.py-5
            .disqus-comments
                if page.highlightjs
                    .alert.alert-info.small
                        | #[em.fa.fa-info-circle] Want to paste code in the comment and make the formatting look good? Read this - #[a(href="https://help.disqus.com/en/articles/1717236-syntax-highlighting") #[b Syntax highlighting]].
                .comments
                    #disqus_thread
                        #disqus_empty(style="display:none") Empty

                .text-center.pt-4
                    a.gatr(href="https://www.jdoqocy.com/click-100191173-10952823" data-type="grammarly-comments" data-name="Grammar Check")
                        img.d-none.d-lg-inline(src="/images/yml/grammarly-comments-banner.png" width="728" height="90" alt="Grammar Check " border="0")
                        img.d-inline.d-lg-none(src="/images/yml/grammarly-square.png" alt="Grammar Check " border="0")


            script.
                function load_disqus(disqus_shortname) {
                    var is_disqus_empty = document.getElementById('disqus_empty');

                    if (document.contains(is_disqus_empty)) {
                        var disqus_target = document.getElementById('disqus_thread'),
                            disqus_embed = document.createElement('script'),
                            disqus_hook = (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]);

                        if (disqus_target && is_disqus_empty) {
                            is_disqus_empty.remove();

                            disqus_embed.type = 'text/javascript';
                            disqus_embed.async = true;
                            disqus_embed.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                            disqus_hook.appendChild(disqus_embed);
                        }
                    }
                }

                window.addEventListener('scroll', function (e) {
                    var currentScroll = document.scrollingElement.scrollTop;
                    var disqus_target = document.getElementById('disqus_thread');

                    if (currentScroll > disqus_target.offsetTop - 500) {
                        load_disqus('#{theme.comment.id}');
                    }
                }, false);